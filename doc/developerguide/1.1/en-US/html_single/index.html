<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IronJacamar 1.1 Developer's Guide</title><link rel="stylesheet" type="text/css" href="css/ironjacamar-single.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><div xml:lang="en" class="book" title="IronJacamar 1.1 Developer's Guide"><div class="titlepage"><div><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.ironjacamar.org/" class="site_href"><strong>www.ironjacamar.org</strong></a><a href="http://www.ironjacamar.org/documentation.html" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d0e1"/>IronJacamar 1.1 Developer's Guide</h1></div><div><h2 class="subtitle">Connecting your Enterprise Information Systems</h2></div></div><hr/></div><div class="dedication"><div class="titlepage"><div><div><h2 class="title"><a id="d0e10"/></h2></div></div></div><p>To all Java EE Connector Architecture users, and especially the IronJacamar community</p></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="#preface">Preface</a></span></dt><dd><dl><dt><span class="section"><a href="#about">1. About IronJacamar</a></span></dt><dt><span class="section"><a href="#whythename">2. Why IronJacamar ?</a></span></dt><dt><span class="section"><a href="#versions">3. Versions</a></span></dt><dd><dl><dt><span class="section"><a href="#versions_ironjacamar11">3.1. IronJacamar 1.1</a></span></dt><dt><span class="section"><a href="#versions_ironjacamar10">3.2. IronJacamar 1.0</a></span></dt></dl></dd><dt><span class="section"><a href="#theteam">4. The team</a></span></dt><dt><span class="section"><a href="#thanksto">5. Thanks to</a></span></dt><dt><span class="section"><a href="#license">6. License</a></span></dt></dl></dd><dt><span class="chapter"><a href="#introduction">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#whatsnew">1.1. What's New</a></span></dt><dd><dl><dt><span class="section"><a href="#whatsnew_jca17">1.1.1. Java Connector Architecture 1.7</a></span></dt><dt><span class="section"><a href="#whatsnew_jca16">1.1.2. Java Connector Architecture 1.6</a></span></dt></dl></dd><dt><span class="section"><a href="#overview">1.2. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#overview_outbound">1.2.1. Outbound resource adapter</a></span></dt><dt><span class="section"><a href="#overview_inbound">1.2.2. Inbound resource adapter</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#building">2. Building</a></span></dt><dd><dl><dt><span class="section"><a href="#prerequisites">2.1. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#jdk">2.1.1. Java Development Kit (JDK)</a></span></dt><dt><span class="section"><a href="#ant">2.1.2. Apache Ant</a></span></dt><dt><span class="section"><a href="#ivy">2.1.3. Apache Ivy</a></span></dt><dt><span class="section"><a href="#git">2.1.4. Git</a></span></dt></dl></dd><dt><span class="section"><a href="#obtainingthesource">2.2. Obtaining the source code</a></span></dt><dd><dl><dt><span class="section"><a href="#forking">2.2.1. Forking the repository</a></span></dt><dt><span class="section"><a href="#gitbranches">2.2.2. Git branches</a></span></dt></dl></dd><dt><span class="section"><a href="#compiling">2.3. Compiling the source code</a></span></dt><dt><span class="section"><a href="#creating_a_patch">2.4. Creating a patch</a></span></dt></dl></dd><dt><span class="chapter"><a href="#releases">3. Releases</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_overview">3.1. Overview</a></span></dt><dt><span class="section"><a href="#releases_versioning">3.2. Versioning</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_versioning_major">3.2.1. Major</a></span></dt><dt><span class="section"><a href="#releases_versioning_minor">3.2.2. Minor</a></span></dt><dt><span class="section"><a href="#releases_versioning_patch">3.2.3. Patch</a></span></dt></dl></dd><dt><span class="section"><a href="#releases_identifiers">3.3. Identifiers</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_alpha">3.3.1. Alpha releases</a></span></dt><dt><span class="section"><a href="#releases_beta">3.3.2. Beta releases</a></span></dt><dt><span class="section"><a href="#releases_cr">3.3.3. Candidate for Release releases</a></span></dt><dt><span class="section"><a href="#releases_final">3.3.4. Final releases</a></span></dt></dl></dd><dt><span class="section"><a href="#releases_nexus">3.4. Nexus</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_nexus_deploying_release">3.4.1. Deploying a release</a></span></dt><dt><span class="section"><a href="#releases_nexus_deploying_snapshot">3.4.2. Deploying a snapshot</a></span></dt><dt><span class="section"><a href="#releases_nexus_deploying_snapshot_locally">3.4.3. Deploying a snapshot (locally)</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#issuetracking">4. Issue tracking</a></span></dt><dd><dl><dt><span class="section"><a href="#location">4.1. Location</a></span></dt><dt><span class="section"><a href="#components">4.2. Components</a></span></dt><dt><span class="section"><a href="#categories">4.3. Categories</a></span></dt><dt><span class="section"><a href="#lifecycle">4.4. Life cycle</a></span></dt><dt><span class="section"><a href="#priorities">4.5. Priorities</a></span></dt></dl></dd><dt><span class="chapter"><a href="#testing">5. Testing</a></span></dt><dd><dl><dt><span class="section"><a href="#testinggoals">5.1. Overall goals</a></span></dt><dd><dl><dt><span class="section"><a href="#spectest">5.1.1. Specification</a></span></dt><dt><span class="section"><a href="#jbinterfacetest">5.1.2. IronJacamar specific interfaces</a></span></dt><dt><span class="section"><a href="#jbimpltest">5.1.3. IronJacamar specific implementation</a></span></dt></dl></dd><dt><span class="section"><a href="#style">5.2. Testing principle and style</a></span></dt><dd><dl><dt><span class="section"><a href="#integration">5.2.1. Integration Tests</a></span></dt><dt><span class="section"><a href="#unit">5.2.2. Unit Tests</a></span></dt></dl></dd><dt><span class="section"><a href="#qa">5.3. Quality Assurance</a></span></dt><dd><dl><dt><span class="section"><a href="#checkstyle">5.3.1. Checkstyle</a></span></dt><dt><span class="section"><a href="#findbugs">5.3.2. Findbugs</a></span></dt><dt><span class="section"><a href="#jacoco">5.3.3. JaCoCo</a></span></dt><dt><span class="section"><a href="#tattletale">5.3.4. Tattletale</a></span></dt></dl></dd><dt><span class="section"><a href="#performance">5.4. Performance testing</a></span></dt><dd><dl><dt><span class="section"><a href="#jprofiler">5.4.1. JProfiler</a></span></dt><dt><span class="section"><a href="#oprofile">5.4.2. OProfile</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#metadata">6. Metadata</a></span></dt><dd><dl><dt><span class="section"><a href="#coremetadata">6.1. Core Metadata</a></span></dt><dd><dl><dt><span class="section"><a href="#jcametadata">6.1.1. Java Connector Architecture Metadata</a></span></dt><dt><span class="section"><a href="#ironjacamarmetadata">6.1.2. IronJacamar Metadata</a></span></dt><dt><span class="section"><a href="#resourceadapterdeploymentmetadata">6.1.3. Resource adapter deployment Metadata</a></span></dt><dt><span class="section"><a href="#datasourcedeploymentmetadata">6.1.4. Datasource deployment Metadata</a></span></dt></dl></dd><dt><span class="section"><a href="#metadatarepository">6.2. Metadata Repository</a></span></dt><dd><dl><dt><span class="section"><a href="#mdrinterface">6.2.1. Interface</a></span></dt><dt><span class="section"><a href="#mdrbean">6.2.2. Bean</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#deployers">7. Deployers</a></span></dt><dd><dl><dt><span class="section"><a href="#rardeployer">7.1. RAR Deployer</a></span></dt><dd><dl><dt><span class="section"><a href="#rardeployer_fungal">7.1.1. Fungal</a></span></dt></dl></dd><dt><span class="section"><a href="#dsdeployer">7.2. DataSource Deployer</a></span></dt><dd><dl><dt><span class="section"><a href="#dsdeployer_fungal">7.2.1. Fungal</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#cm">8. Connection manager</a></span></dt><dd><dl><dt><span class="section"><a href="#cm_overview">8.1. Overview</a></span></dt><dt><span class="section"><a href="#cm_public">8.2. Public API</a></span></dt><dt><span class="section"><a href="#cm_private">8.3. Private API</a></span></dt><dt><span class="section"><a href="#cm_implementation">8.4. Implementation</a></span></dt><dd><dl><dt><span class="section"><a href="#cm_implementation_abstractconnectionmanager">8.4.1. AbstractConnectionManager</a></span></dt><dt><span class="section"><a href="#cm_implementation_notxconnectionmanager">8.4.2. NoTxConnectionManagerImpl</a></span></dt><dt><span class="section"><a href="#cm_implementation_txconnectionmanager">8.4.3. TxConnectionManagerImpl</a></span></dt><dt><span class="section"><a href="#cm_implementation_abstractconnectionlistener">8.4.4. AbstractConnectionListener</a></span></dt><dt><span class="section"><a href="#cm_implementation_notxconnectionlistener">8.4.5. NoTxConnectionListener</a></span></dt><dt><span class="section"><a href="#cm_implementation_txconnectionlistener">8.4.6. TxConnectionListener</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#pool">9. Pool</a></span></dt><dd><dl><dt><span class="section"><a href="#pool_overview">9.1. Overview</a></span></dt><dt><span class="section"><a href="#pool_public">9.2. Public API</a></span></dt><dt><span class="section"><a href="#pool_private">9.3. Private API</a></span></dt><dt><span class="section"><a href="#pool_implementation">9.4. Implementation</a></span></dt><dd><dl><dt><span class="section"><a href="#pool_implementation_abstractpool">9.4.1. AbstractPool</a></span></dt><dt><span class="section"><a href="#pool_implementation_prefill">9.4.2. AbstractPrefillPool</a></span></dt><dt><span class="section"><a href="#pool_implementation_types">9.4.3. Pool types</a></span></dt></dl></dd><dt><span class="section"><a href="#pool_mcp">9.5. ManagedConnectionPool</a></span></dt><dd><dl><dt><span class="section"><a href="#pool_mcp_private">9.5.1. Private API</a></span></dt><dt><span class="section"><a href="#pool_mcp_implementation">9.5.2. Implementation</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#standalone">10. Standalone</a></span></dt><dd><dl><dt><span class="section"><a href="#standaloneoverview">10.1. Overview</a></span></dt><dt><span class="section"><a href="#jcasjc">10.2. IronJacamar/SJC</a></span></dt></dl></dd><dt><span class="appendix"><a href="#licenses">A. Licenses</a></span></dt><dd><dl><dt><span class="section"><a href="#lgpl">A.1. GNU Lesser General Public License 2.1</a></span></dt><dd><dl><dt><span class="section"><a href="#lgpl-1">A.1.1. Preamble</a></span></dt><dt><span class="section"><a href="#lgpl-2">A.1.2. Terms and Conditions for Copying, Distribution and Modification</a></span></dt><dt><span class="section"><a href="#lgpl-3">A.1.3. How to Apply These Terms to Your New Libraries</a></span></dt></dl></dd><dt><span class="section"><a href="#CC-BY-SA">A.2. Creative Commons Attribution–Share Alike 3.0 Unported License</a></span></dt><dd><dl><dt><span class="section"><a href="#CC-BY-SA-Definitions">A.2.1. Definitions</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-FairDealingRights">A.2.2. Fair Dealing Rights</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-LicenseGrant">A.2.3. License Grant</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Restrictions">A.2.4. Restrictions</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-RepresentationsWarrantiesandDisclaimer">A.2.5. Representations, Warranties and Disclaimer</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Termination">A.2.6. Termination</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Miscellaneous">A.2.7. Miscellaneous</a></span></dt></dl></dd><dt><span class="section"><a href="#ApacheLicense">A.3. Apache License, Version 2.0</a></span></dt><dd><dl><dt><span class="section"><a href="#ApacheLicense-Definitions">A.3.1. Definitions</a></span></dt><dt><span class="section"><a href="#ApacheLicense-GrantofCopyrightLicense">A.3.2. Grant of Copyright License</a></span></dt><dt><span class="section"><a href="#ApacheLicense-GrantofPatentLicense">A.3.3. Grant of Patent License</a></span></dt><dt><span class="section"><a href="#ApacheLicense-Redistribution">A.3.4. Redistribution</a></span></dt><dt><span class="section"><a href="#ApacheLicense-SubmissionofContributions">A.3.5. Submission of Contributions</a></span></dt><dt><span class="section"><a href="#ApacheLicense-Trademarks">A.3.6. Trademarks</a></span></dt><dt><span class="section"><a href="#ApacheLicense-DisclaimerofWarranty">A.3.7. Disclaimer of Warranty</a></span></dt><dt><span class="section"><a href="#ApacheLicense-LimitationofLiability">A.3.8. Limitation of Liability</a></span></dt><dt><span class="section"><a href="#ApacheLicense-AcceptingWarrantyorAdditionalLiability">A.3.9. Accepting Warranty or Additional Liability</a></span></dt></dl></dd></dl></dd></dl></div><div class="list-of-tables"><p><strong>List of Tables</strong></p><dl><dt>4.1. <a href="#d0e642">Project components</a></dt><dt>4.2. <a href="#d0e740">JIRA categories</a></dt><dt>4.3. <a href="#d0e785">JIRA Lifecycle</a></dt><dt>4.4. <a href="#d0e825">JIRA Priorities</a></dt><dt>6.1. <a href="#d0e1384">Datasource mapping</a></dt></dl></div><div class="preface" title="Preface"><div class="titlepage"><div><div><h2 class="title"><a id="preface"/>Preface</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#about">1. About IronJacamar</a></span></dt><dt><span class="section"><a href="#whythename">2. Why IronJacamar ?</a></span></dt><dt><span class="section"><a href="#versions">3. Versions</a></span></dt><dd><dl><dt><span class="section"><a href="#versions_ironjacamar11">3.1. IronJacamar 1.1</a></span></dt><dt><span class="section"><a href="#versions_ironjacamar10">3.2. IronJacamar 1.0</a></span></dt></dl></dd><dt><span class="section"><a href="#theteam">4. The team</a></span></dt><dt><span class="section"><a href="#thanksto">5. Thanks to</a></span></dt><dt><span class="section"><a href="#license">6. License</a></span></dt></dl></div><div class="section" title="1. About IronJacamar"><div class="titlepage"><div><div><h2 class="title"><a id="about"/>1. About IronJacamar</h2></div></div></div><p>The goal of the IronJacamar project is to provide an implementation of the Java Connector
      Architecture 1.7 specification.</p><p>The specification can be found here: <a class="ulink" href="http://www.jcp.org/en/jsr/detail?id=322">http://www.jcp.org/en/jsr/detail?id=322</a>.</p><p>The IronJacamar project is licensed under the GNU LESSER GENERAL PUBLIC LICENSE 2.1 (LGPL 2.1) license.</p></div><div class="section" title="2. Why IronJacamar ?"><div class="titlepage"><div><div><h2 class="title"><a id="whythename"/>2. Why IronJacamar ?</h2></div></div></div><p>The Java EE Connector Architecture container can be viewed as a foundation inside an application server
      as it provides connectivity to the other containers such that they can communicate with EISes. Iron is often
      used as foundation in building houses too.</p><p>The Jacamar bird family which lives in Central and South America are glossy elegant birds with long bills 
      and tails. Why we picked the Jacamar family is left as an exercise for the reader :)</p></div><div class="section" title="3. Versions"><div class="titlepage"><div><div><h2 class="title"><a id="versions"/>3. Versions</h2></div></div></div><p>
      This section contains the highlights of the IronJacamar releases. A full description of each release
      can be found through our issue tracking system at <a class="ulink" href="http://issues.jboss.org/browse/JBJCA">http://issues.jboss.org/browse/JBJCA</a>.
    </p><div class="section" title="3.1. IronJacamar 1.1"><div class="titlepage"><div><div><h3 class="title"><a id="versions_ironjacamar11"/>3.1. IronJacamar 1.1</h3></div></div></div><p>
        Highlights as compared to IronJacamar 1.0:

        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Java EE Connector Architecture 1.7 certified (standalone / Java EE7)
          </li><li class="listitem">
            Lazy connection manager (JCA chapter 7.16)
          </li><li class="listitem">
            Distributed work manager (JCA chapter 10.3.11)
          </li><li class="listitem">
            Advanced pool capacity policies and flush strategies
          </li><li class="listitem">
            Enhanced Arquillian integration
          </li><li class="listitem">
            Eclipse development plugin
          </li><li class="listitem">
            Enterprise Information System testing server
          </li><li class="listitem">
            Resource adapter information tool
          </li><li class="listitem">
            Migration tools
          </li></ul></div><p>
      </p></div><div class="section" title="3.2. IronJacamar 1.0"><div class="titlepage"><div><div><h3 class="title"><a id="versions_ironjacamar10"/>3.2. IronJacamar 1.0</h3></div></div></div><p>
        Highlights as compared to previous Java EE Connector Architecture containers inside JBoss Application Server:

        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Java EE Connector Architecture 1.6 certified (standalone / Java EE6)
          </li><li class="listitem">
            POJO container environment
          </li><li class="listitem">
            New configuration schemas which focuses on usability
          </li><li class="listitem">
            Fast XML and annotation parsing for quick deployment
          </li><li class="listitem">
            Reauthentication support
          </li><li class="listitem">
            Prefill support for security backed domains
          </li><li class="listitem">
            Support for pool flushing strategies
          </li><li class="listitem">
            Embedded environment for ease of development with Arquillian and ShrinkWrap integration
          </li><li class="listitem">
            New management and statistics integration for components
          </li><li class="listitem">
            Code generator for resource adapters
          </li><li class="listitem">
            Validator tool for resource adapters
          </li></ul></div><p>
      </p></div></div><div class="section" title="4. The team"><div class="titlepage"><div><div><h2 class="title"><a id="theteam"/>4. The team</h2></div></div></div><p>
      Jesper Pedersen acts as the lead for the IronJacamar project. 
      He can be reached at jesper (dot) pedersen (at) ironjacamar (dot) org.
    </p><p>
      Jeff Zhang is a core developer on the IronJacamar project.
      He can be reached at jeff (dot) zhang (at) ironjacamar (dot) org.
    </p><p>
      Stefano Maestri is a core developer on the IronJacamar project.
      He can be reached at stefano (dot) maestri (at) ironjacamar (dot) org.
    </p><p>
      Lin Gao is a core developer on the IronJacamar project.
      He can be reached at lin (dot) gao (at) ironjacamar (dot) org.
    </p><p>
      Vladimir Rastseluev is a core developer on the IronJacamar project.
      He can be reached at vrastseluev (at) ironjacamar (dot) org.
    </p><p>
      Dimitris Andreadis is an advocate for the IronJacamar project.
      He can be reached at dimitris (at) ironjacamar (dot) org.
    </p><p>
      Johnaton Lee helps out in the IronJacamar community with identifying issues, and fixing them.
      He can be reached at johnathonlee (at) ironjacamar (dot) org.
    </p><p>
      Tyronne Wickramarathne helps out in the IronJacamar community with identifying issues, and fixing them.
      He can be reached at tyronne (at) ironjacamar (dot) org.
    </p></div><div class="section" title="5. Thanks to"><div class="titlepage"><div><div><h2 class="title"><a id="thanksto"/>5. Thanks to</h2></div></div></div><p>
      Adrian Brock, Carlo de Wolf, Gurkan Erdogdu, Bruno Georges, Paul Gier, Jason Greene, Stefan Guilhen, 
      Jonathan Halliday, Søren Hilmer, Ales Justin, Vicky Kak,  Aslak Knutsen, Sacha Labourey, Mark Little, Alexey Loubyansky, 
      Patrick MacDonald, Scott Marlow, Shelly McGowan, Andrig Miller, Marcus Moyses, Weston Price, Andrew Lee Rubinger, Heiko Rupp,
      Anil Saldhana, Scott Stark, Clebert Suconic, Andy Taylor, Vladimir Vasilev, Jeremy Whiting, Yang Yong and Leslie York.
    </p></div><div class="section" title="6. License"><div class="titlepage"><div><div><h2 class="title"><a id="license"/>6. License</h2></div></div></div><p>Copyright © 2013 Red Hat, Inc. and others.</p><p>The text of and illustrations in this document are licensed by Red Hat under
      a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA").</p><p>An explanation of CC-BY-SA is available at 
      <a class="ulink" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. 
      In accordance with CC-BY-SA, if you distribute this document or an adaptation
      of it, you must provide the URL for the original version.</p><p>Red Hat, as the licensor of this document, waives the right to enforce, 
      and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent 
      permitted by applicable law.</p></div></div><div class="chapter" title="Chapter 1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="introduction"/>Chapter 1. Introduction</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#whatsnew">1.1. What's New</a></span></dt><dd><dl><dt><span class="section"><a href="#whatsnew_jca17">1.1.1. Java Connector Architecture 1.7</a></span></dt><dt><span class="section"><a href="#whatsnew_jca16">1.1.2. Java Connector Architecture 1.6</a></span></dt></dl></dd><dt><span class="section"><a href="#overview">1.2. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#overview_outbound">1.2.1. Outbound resource adapter</a></span></dt><dt><span class="section"><a href="#overview_inbound">1.2.2. Inbound resource adapter</a></span></dt></dl></dd></dl></div><p>The Java Connector Architecture (JCA) defines a standard architecture for connecting
     the Java EE platform to heterogeneous Enterprise Information Systems (EIS). 
     Examples of EISs include Enterprise Resource Planning (ERP), mainframe transaction processing (TP), 
     databases and messaging systems.</p><p>The connector architecture defines a set of scalable, secure, and transactional
     mechanisms that enable the integration of EISs with application servers and
     enterprise applications.</p><p>The connector architecture also defines a Common Client Interface (CCI) for EIS
     access. The CCI defines a client API for interacting with heterogeneous EISs.</p><p>The connector architecture enables an EIS vendor to provide a standard resource
     adapter for its EIS. A resource adapter is a system-level software driver that is used
     by a Java application to connect to an EIS. The resource adapter plugs into an
     application server and provides connectivity between the EIS, the application server,
     and the enterprise application. The resource adapter serves as a protocol adapter
     that allows any arbitrary EIS communication protocol to be used for connectivity.
     An application server vendor extends its system once to support the connector
     architecture and is then assured of seamless connectivity to multiple EISs. Likewise,
     an EIS vendor provides one standard resource adapter which has the capability to
     plug in to any application server that supports the connector architecture.</p><div class="section" title="1.1. What's New"><div class="titlepage"><div><div><h2 class="title"><a id="whatsnew"/>1.1. What's New</h2></div></div></div><div class="section" title="1.1.1. Java Connector Architecture 1.7"><div class="titlepage"><div><div><h3 class="title"><a id="whatsnew_jca17"/>1.1.1. Java Connector Architecture 1.7</h3></div></div></div><p>The Java Connector Architecture 1.7 specification adds the following areas:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem">
          Adds an activation name for message endpoints to uniquely identify them
        </li><li class="listitem">
          Deployment annotations for connection factories and administration objects
        </li></ul></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>
          The deployment annotations are only meant for developer usage, and should not be used
          in test or production environments.
        </p><p>
          The IronJacamar standalone and embedded distributions doesn't support these annotations.
        </p></div></div><div class="section" title="1.1.2. Java Connector Architecture 1.6"><div class="titlepage"><div><div><h3 class="title"><a id="whatsnew_jca16"/>1.1.2. Java Connector Architecture 1.6</h3></div></div></div><p>The Java Connector Architecture 1.6 specification adds the following major areas:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem">
          Ease of Development: The use of annotations reduces or completely eliminates the need to deal with a
          deployment descriptor in many cases. The use of annotations also reduces the need
          to keep the deployment descriptor synchronized with changes to source code.
        </li><li class="listitem">
          Generic work context contract: A generic contract that enables a resource adapter
          to control the execution context of a Work instance that it has submitted to the
          application server for execution. 
        </li><li class="listitem">
          Security work context: A standard contract that enables a resource adapter to
          establish security information while submitting a Work instance for execution to a
          WorkManager and while delivering messages to message endpoints residing in
          the application server.
        </li><li class="listitem">
          Standalone Container Environment: A defined set of services that makes up a standalone
          execution environment for resource adapters.
        </li></ul></div></div></div><div class="section" title="1.2. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="overview"/>1.2. Overview</h2></div></div></div><p>
      The Java EE Connector Architecture features three different types of resource adapters

      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
          Outbound: The resource adapter allows the application to communicate to the Enterprise Information System (EIS).
        </li><li class="listitem">
          Inbound: The resource adapter allows messages to flow from the Enterprise Information System (EIS) to the application.
        </li><li class="listitem">
          Bi-directional: The resource adapter features both an outbound and an inbound part.
        </li></ul></div><p>
    </p><p>
      For more information about Java EE Connector Architecture see the specification.
    </p><div class="section" title="1.2.1. Outbound resource adapter"><div class="titlepage"><div><div><h3 class="title"><a id="overview_outbound"/>1.2.1. Outbound resource adapter</h3></div></div></div><p>
        The Java Connector Architecture specification consists of a number of outbound components:

        </p><div class="mediaobject" align="center"><img src="images/outbound.png" align="middle"/></div><p>
      </p><p>
        The application uses the

        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            ConnectionFactory: The connection factory is looked up in Java Naming and Directory Interface (JNDI)
            and is used to create a connection.
          </li><li class="listitem">
            Connection: The connection contains the Enterprise Information System (EIS) specific operations.
          </li></ul></div><p>
      </p><p>
        The resource adapter contains
        
        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            ManagedConnectionFactory: The managed connection factory creates managed connections.
          </li><li class="listitem">
            ManagedConnection: The managed connection represents a physical connection to the target
            Enterprise Information System (EIS). The managed connection notifies the application server
            of events such as connection closed and connection error.
          </li></ul></div><p>
      </p><p>
        IronJacamar - the application server - contains
        
        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            ConnectionManager: The connection manager handles all managed connections in regards to
            pooling, transaction and security.
          </li><li class="listitem">
            ConnectionEventListener: The connection event listener allows the connection manager to know
            the status of each managed connection.
          </li></ul></div><p>
      </p></div><div class="section" title="1.2.2. Inbound resource adapter"><div class="titlepage"><div><div><h3 class="title"><a id="overview_inbound"/>1.2.2. Inbound resource adapter</h3></div></div></div><p>
        The Java Connector Architecture specification consists of a number of inbound components:
        
        </p><div class="mediaobject" align="center"><img src="images/inbound.png" align="middle"/></div><p>
      </p><p>
        The application uses the

        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            ActivationSpec: The activation specification specifies the different properties that the
            application is looking for from the resource adapter and hence the Enterprise Information System (EIS).
            This specification can be hidden from the user by a facade provided by the application server.
          </li></ul></div><p>
      </p><p>
        The resource adapter contains
        
        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            ResourceAdapter: The resource adapter provides the activation point for inbound communication.
          </li><li class="listitem">
            Resource adapter specific: The resource adapter specific code handles communication with the
            Enterprise Information System (EIS) and deliver messages through the MessageEndpointFactory.
          </li></ul></div><p>
      </p><p>
        IronJacamar - the application server - contains
        
        </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            MessageEndpointFactory: The MessageEndpointFactory is registered with the ResourceAdapter instance
            and creates the MessageEndpoint instances.
          </li><li class="listitem">
            MessageEndpoint: The MessageEndpoint contains the actual message from the Enterprise Information System (EIS)
            which the application uses. This could for example be a message driven Enterprise JavaBean (EJB/MDB).
          </li></ul></div><p>
      </p></div></div></div><div class="chapter" title="Chapter 2. Building"><div class="titlepage"><div><div><h2 class="title"><a id="building"/>Chapter 2. Building</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#prerequisites">2.1. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#jdk">2.1.1. Java Development Kit (JDK)</a></span></dt><dt><span class="section"><a href="#ant">2.1.2. Apache Ant</a></span></dt><dt><span class="section"><a href="#ivy">2.1.3. Apache Ivy</a></span></dt><dt><span class="section"><a href="#git">2.1.4. Git</a></span></dt></dl></dd><dt><span class="section"><a href="#obtainingthesource">2.2. Obtaining the source code</a></span></dt><dd><dl><dt><span class="section"><a href="#forking">2.2.1. Forking the repository</a></span></dt><dt><span class="section"><a href="#gitbranches">2.2.2. Git branches</a></span></dt></dl></dd><dt><span class="section"><a href="#compiling">2.3. Compiling the source code</a></span></dt><dt><span class="section"><a href="#creating_a_patch">2.4. Creating a patch</a></span></dt></dl></div><div class="section" title="2.1. Prerequisites"><div class="titlepage"><div><div><h2 class="title"><a id="prerequisites"/>2.1. Prerequisites</h2></div></div></div><div class="section" title="2.1.1. Java Development Kit (JDK)"><div class="titlepage"><div><div><h3 class="title"><a id="jdk"/>2.1.1. Java Development Kit (JDK)</h3></div></div></div><p>You must have the following JDK installed in order to build the project:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>Sun JDK 1.7.x</p></li><li class="listitem"><p>OpenJDK 1.7.x</p></li></ul></div><p>Remember to ensure that "javac" and "java" are in your path (or symlinked).</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
JAVA_HOME=/location/to/javahome
export JAVA_HOME

PATH=$JAVA_HOME/bin:$PATH
export PATH
      </pre></div><div class="section" title="2.1.2. Apache Ant"><div class="titlepage"><div><div><h3 class="title"><a id="ant"/>2.1.2. Apache Ant</h3></div></div></div><p>You must have Apache Ant 1.8.2+ installed on your system.</p><p>Remember to ensure that "ant" are in your path (or symlinked).</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ANT_HOME=/location/to/anthome
export ANT_HOME

PATH=$ANT_HOME/bin:$PATH
export PATH
      </pre><p>You may need to set the memory settings for the Apache Ant process like</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ANT_OPTS="$ANT_OPTS -Xms128m -Xmx512m -XX:MaxPermSize=256m"
export ANT_OPTS
      </pre></div><div class="section" title="2.1.3. Apache Ivy"><div class="titlepage"><div><div><h3 class="title"><a id="ivy"/>2.1.3. Apache Ivy</h3></div></div></div><p>The IronJacamar project uses Apache Ivy for dependency management.</p><p>Apache Ivy is automatically downloaded and included in the development
        environment, so no additional setup is required.</p></div><div class="section" title="2.1.4. Git"><div class="titlepage"><div><div><h3 class="title"><a id="git"/>2.1.4. Git</h3></div></div></div><p>You must have Git installed on your system.</p><p>Remember to ensure that "git" are in your path (or symlinked).</p></div></div><div class="section" title="2.2. Obtaining the source code"><div class="titlepage"><div><div><h2 class="title"><a id="obtainingthesource"/>2.2. Obtaining the source code</h2></div></div></div><div class="section" title="2.2.1. Forking the repository"><div class="titlepage"><div><div><h3 class="title"><a id="forking"/>2.2.1. Forking the repository</h3></div></div></div><p>
        The IronJacamar repository is located at:
      </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
https://github.com/ironjacamar/ironjacamar
      </pre><p>
        Press the "Fork" button in order to fork the repository to your own GitHub account.
      </p><p>
        Clone your repository to your machine using
      </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
git clone git@github.com:&lt;your_account&gt;/ironjacamar.git
      </pre><p>
        Next add the upstream repository as a remote location:
      </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
cd ironjacamar
git remote add upstream git@github.com:ironjacamar/ironjacamar.git
      </pre></div><div class="section" title="2.2.2. Git branches"><div class="titlepage"><div><div><h3 class="title"><a id="gitbranches"/>2.2.2. Git branches</h3></div></div></div><p>We have the following branches for the project:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>master</p><p>The head of development targeting the next upcoming release.</p></li><li class="listitem"><p>1.0</p><p>The development targeting the IronJacamar 1.0 releases.</p></li><li class="listitem"><p>1.1</p><p>The development targeting the IronJacamar 1.1 releases.</p></li></ul></div></div></div><div class="section" title="2.3. Compiling the source code"><div class="titlepage"><div><div><h2 class="title"><a id="compiling"/>2.3. Compiling the source code</h2></div></div></div><p>In order to build the IronJacamar project you execute:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant &lt;target&gt;
    </pre><p>where target is one of</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>jars</p><p>Builds the JAR archives in the distribution.</p></li><li class="listitem"><p>test</p><p>Builds the JAR archives in the distribution and runs all the test cases.</p></li><li class="listitem"><p>module-test</p><p>Builds the JAR archives in the distribution and runs all the test cases for the specified
        module (<code class="code">-Dmodule=&lt;modulename&gt;</code>).</p></li><li class="listitem"><p>one-test</p><p>Builds the JAR archives in the distribution and runs the specified test case
        (<code class="code">-Dmodule=&lt;modulename&gt; -Dtest=&lt;classname&gt;</code>).</p></li><li class="listitem"><p>docs</p><p>Builds the API documentation for the project.</p></li><li class="listitem"><p>aggregated-javadocs</p><p>Builds the Aggregated API documentation for the project.</p></li><li class="listitem"><p>aggregated-javadocs-api-spi</p><p>Builds the Aggregated API documentation for API/SPI of the project.</p></li><li class="listitem"><p>sjc</p><p>Builds the standalone environment using IronJacamar/SJC.</p></li><li class="listitem"><p>release</p><p>Builds a release of the project.</p></li><li class="listitem"><p>clean</p><p>Cleans the project of temporary files.</p></li><li class="listitem"><p>clean-cache</p><p>Cleans the Apache Ivy repository.</p></li></ul></div><p>See the full list of targets in the main build.xml file.</p><p>An example to get the IronJacamar/SJC built and running:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant clean sjc
cd target/sjc/bin
./run.sh
    </pre></div><div class="section" title="2.4. Creating a patch"><div class="titlepage"><div><div><h2 class="title"><a id="creating_a_patch"/>2.4. Creating a patch</h2></div></div></div><p>
      Our user guide explains in the "I would like to implement a feature" section how to get 
      started on a writing a new feature or submitting a patch to the project. 
    </p><p>
      You should develop your feature on a Git branch using
    </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
git checkout -b &lt;feature_name&gt;
    </pre><p>
      Once you are done you will need to rebase your work with the latest master
    </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
git fetch upstream
git rebase -i upstream/master
    </pre><p>
      You will need to resolve any conflicts of course. Note, that all pull requests
      must be rebased against upstream master in order to get merged.
    </p><p>
      Then push the feature to your repository
    </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
git push origin &lt;feature_name&gt;
    </pre><p>
      Go to your account on GitHub.com and submit a pull request via the "Pull request" button
    </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
https://www.github.com/&lt;your_account&gt;/ironjacamar
    </pre><p>
      Remember to select the correct branch, fill in the subject with a short description
      of the feature, and fill in the description with the full description of the feature.
    </p><p>
      If your feature / bug-fix applies to multiple branches you will need to submit
      multiple pull requests - one pull request per branch.
    </p></div></div><div class="chapter" title="Chapter 3. Releases"><div class="titlepage"><div><div><h2 class="title"><a id="releases"/>Chapter 3. Releases</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#releases_overview">3.1. Overview</a></span></dt><dt><span class="section"><a href="#releases_versioning">3.2. Versioning</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_versioning_major">3.2.1. Major</a></span></dt><dt><span class="section"><a href="#releases_versioning_minor">3.2.2. Minor</a></span></dt><dt><span class="section"><a href="#releases_versioning_patch">3.2.3. Patch</a></span></dt></dl></dd><dt><span class="section"><a href="#releases_identifiers">3.3. Identifiers</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_alpha">3.3.1. Alpha releases</a></span></dt><dt><span class="section"><a href="#releases_beta">3.3.2. Beta releases</a></span></dt><dt><span class="section"><a href="#releases_cr">3.3.3. Candidate for Release releases</a></span></dt><dt><span class="section"><a href="#releases_final">3.3.4. Final releases</a></span></dt></dl></dd><dt><span class="section"><a href="#releases_nexus">3.4. Nexus</a></span></dt><dd><dl><dt><span class="section"><a href="#releases_nexus_deploying_release">3.4.1. Deploying a release</a></span></dt><dt><span class="section"><a href="#releases_nexus_deploying_snapshot">3.4.2. Deploying a snapshot</a></span></dt><dt><span class="section"><a href="#releases_nexus_deploying_snapshot_locally">3.4.3. Deploying a snapshot (locally)</a></span></dt></dl></dd></dl></div><p>The chapter describes the various releases and their exit criteria.</p><div class="section" title="3.1. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="releases_overview"/>3.1. Overview</h2></div></div></div><p>Each release is labelled with a version number and an identifier.</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ironjacamar-&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;[.&lt;identifier&gt;]
    </pre><p>where</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem">
        Major: The major version number. Signifies major changes in the implementation.
      </li><li class="listitem">
        Minor: The minor version number. Signifies functional changes to a major version.
      </li><li class="listitem">
        Patch: The patch version number. Signifies a binary compatible change to a minor version.
      </li><li class="listitem">
        Identifier: The identifier. Identifies the level of the quality of the release.
        <div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem">
            None / Final: Stable release
          </li><li class="listitem">
            CR: Candidate for Release quality. The implementation is functional complete.
          </li><li class="listitem">
            Beta: Beta quality. The implementation is almost functional complete.
          </li><li class="listitem">
            Alpha: Alpha quality. The implementation is a snapshot of the development.
          </li></ul></div></li></ul></div></div><div class="section" title="3.2. Versioning"><div class="titlepage"><div><div><h2 class="title"><a id="releases_versioning"/>3.2. Versioning</h2></div></div></div><p>Each release will contain a version number which relates to the 
      feature branch where it was created.</p><div class="section" title="3.2.1. Major"><div class="titlepage"><div><div><h3 class="title"><a id="releases_versioning_major"/>3.2.1. Major</h3></div></div></div><p>A Major version identifier signifies major changes in the implementation such as
        a change in the architecture.</p><p>The features between major versions can be a lot different, and therefore feature
        regressions may appear.</p><p>A Major version will most likely also mean updates to the configuration and required
        metadata files for deployments.</p></div><div class="section" title="3.2.2. Minor"><div class="titlepage"><div><div><h3 class="title"><a id="releases_versioning_minor"/>3.2.2. Minor</h3></div></div></div><p>A Minor version identifier signifies functional changes to a Major release.</p><p>This means that new features have been added to the Major release, and hence may have
        new configuration options and integration points.</p><p>The release is binary compatible to the previous releases - 
        for example <code class="code">1.0</code> vs. <code class="code">1.1</code>.</p></div><div class="section" title="3.2.3. Patch"><div class="titlepage"><div><div><h3 class="title"><a id="releases_versioning_patch"/>3.2.3. Patch</h3></div></div></div><p>A Patch version identifier signifies a binary compatible update to one or more components in a Minor release.</p><p>This means that one or more bug fixes to existing components have been integrated in the branch in question.</p><p>The release is binary compatible to the previous releases - 
        for example <code class="code">1.0.0</code> vs. <code class="code">1.0.1</code>.</p></div></div><div class="section" title="3.3. Identifiers"><div class="titlepage"><div><div><h2 class="title"><a id="releases_identifiers"/>3.3. Identifiers</h2></div></div></div><p>Each release will contain an identifier which relates to the release quality.</p><div class="section" title="3.3.1. Alpha releases"><div class="titlepage"><div><div><h3 class="title"><a id="releases_alpha"/>3.3.1. Alpha releases</h3></div></div></div><p>An Alpha release is a snapshot of the main development branch which likely will
        contain new features.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
        Alpha releases are NOT production quality
      </div><p>An Alpha release are made each month (time-boxed) unless the branch is using an identifier as 
        Beta or higher.</p><p>The exit criteria for an Alpha release is that the main test suite is passing.</p></div><div class="section" title="3.3.2. Beta releases"><div class="titlepage"><div><div><h3 class="title"><a id="releases_beta"/>3.3.2. Beta releases</h3></div></div></div><p>A Beta release contains major features that are considered almost functional complete.
        This doesn't mean however that all aspects of each feature is complete and therefore
        not all options will be active.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
        Beta releases are NOT production quality
      </div><p>A Beta release will be made once one or more features are almost functional complete and
        therefore Beta releases aren't time-boxed, but feature-boxed instead.</p><p>The exit criteria for a Beta release is that all test suites are passing.</p></div><div class="section" title="3.3.3. Candidate for Release releases"><div class="titlepage"><div><div><h3 class="title"><a id="releases_cr"/>3.3.3. Candidate for Release releases</h3></div></div></div><p>A Candidate for Release is considered functional complete and candidate for being 
        promoted to a Final release.</p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
        Candidate for Release releases are NOT production quality
      </div><p>A Candidate for Release focuses on functionality, but they are time-boxed to a maximum
        of two weeks between each release.</p><p>The exit criteria for a Candidate for Release release is that all test suites are passing.</p></div><div class="section" title="3.3.4. Final releases"><div class="titlepage"><div><div><h3 class="title"><a id="releases_final"/>3.3.4. Final releases</h3></div></div></div><p>A Final release is considered feature complete and stable.</p><p>Typically only one Final release will be released from each branch, unless critical or blocker issues
        are found in the release. Patch releases will be available from our source control system as
        tags.</p><p>The exit criteria for a Final release is that all test suites are passing.</p></div></div><div class="section" title="3.4. Nexus"><div class="titlepage"><div><div><h2 class="title"><a id="releases_nexus"/>3.4. Nexus</h2></div></div></div><p>The IronJacamar artifacts are uploaded to the JBoss.org Nexus repository located at:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
https://repository.jboss.org/nexus/content/groups/public/
    </pre><p>The IronJacamar artifacts are deployed under the <code class="code">groupId</code> of:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.ironjacamar
    </pre><p>See the User Guide for a complete list of artifacts.</p><div class="section" title="3.4.1. Deploying a release"><div class="titlepage"><div><div><h3 class="title"><a id="releases_nexus_deploying_release"/>3.4.1. Deploying a release</h3></div></div></div><p>A release of IronJacamar is deployed using:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant nexus
cd target
./deploy.sh
      </pre><p>After the artifacts have been uploaded the release must be promoted in Nexus by logging
        in and choosing "Promote" and "Close". The path for the staging repository can be used for
        testing the release.</p><p>Note, that this requires Maven 3.0.5+.</p></div><div class="section" title="3.4.2. Deploying a snapshot"><div class="titlepage"><div><div><h3 class="title"><a id="releases_nexus_deploying_snapshot"/>3.4.2. Deploying a snapshot</h3></div></div></div><p>A snapshot of IronJacamar is deployed using:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant -Dsnapshot=true nexus
cd target
./deploy.sh
      </pre><p>Note, that this requires Maven 3.0.5+.</p></div><div class="section" title="3.4.3. Deploying a snapshot (locally)"><div class="titlepage"><div><div><h3 class="title"><a id="releases_nexus_deploying_snapshot_locally"/>3.4.3. Deploying a snapshot (locally)</h3></div></div></div><p>A snapshot of IronJacamar is deployed to the local Maven repository <code class="code">$HOME/.m2/repository</code> using:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant -Dsnapshot=true nexus
cd target
./install.sh
      </pre><p>Note, that this requires Maven 3.0.5+.</p></div></div></div><div class="chapter" title="Chapter 4. Issue tracking"><div class="titlepage"><div><div><h2 class="title"><a id="issuetracking"/>Chapter 4. Issue tracking</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#location">4.1. Location</a></span></dt><dt><span class="section"><a href="#components">4.2. Components</a></span></dt><dt><span class="section"><a href="#categories">4.3. Categories</a></span></dt><dt><span class="section"><a href="#lifecycle">4.4. Life cycle</a></span></dt><dt><span class="section"><a href="#priorities">4.5. Priorities</a></span></dt></dl></div><div class="section" title="4.1. Location"><div class="titlepage"><div><div><h2 class="title"><a id="location"/>4.1. Location</h2></div></div></div><p>The JIRA issue tracking for the project is located at <a class="ulink" href="http://issues.jboss.org/browse/JBJCA">http://issues.jboss.org/browse/JBJCA</a></p>.

  </div><div class="section" title="4.2. Components"><div class="titlepage"><div><div><h2 class="title"><a id="components"/>4.2. Components</h2></div></div></div><p>The project is divided into the following components:</p><div class="table"><a id="d0e642"/><p class="title"><strong>Table 4.1. Project components</strong></p><div class="table-contents"><table summary="Project components" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="left">Component</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Arquillian</td><td align="left">The Arquillian integration for the project.</td></tr><tr><td align="left">AS</td><td align="left">The tools that focuses on integration with WildFly.</td></tr><tr><td align="left">Build</td><td align="left">The build environment for the project.</td></tr><tr><td align="left">Code Generator</td><td align="left">The resource adapter code generator.</td></tr><tr><td align="left">Common</td><td align="left">Common interfaces and classes that are shared between multiple components.</td></tr><tr><td align="left">Core</td><td align="left">The core implementation of the project.</td></tr><tr><td align="left">Documentation</td><td align="left">The documentation (Users Guide / Developers Guide) for the project.</td></tr><tr><td align="left">Deployer</td><td align="left">The deployers for the project.</td></tr><tr><td align="left">Eclipse</td><td align="left">The Eclipse plugin for IronJacamar.</td></tr><tr><td align="left">EIS</td><td align="left">The EIS test server.</td></tr><tr><td align="left">Embedded</td><td align="left">The embedded IronJacamar container.</td></tr><tr><td align="left">JDBC</td><td align="left">A JDBC resource adapter.</td></tr><tr><td align="left">Performance</td><td align="left">Performance related work.</td></tr><tr><td align="left">Standalone</td><td align="left">The standalone IronJacamar distribution.</td></tr><tr><td align="left">Test Suite</td><td align="left">The IronJacamar test suite.</td></tr><tr><td align="left">Validator</td><td align="left">The resource adapter validator.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" title="4.3. Categories"><div class="titlepage"><div><div><h2 class="title"><a id="categories"/>4.3. Categories</h2></div></div></div><p>The system contains the following categoies:</p><div class="table"><a id="d0e740"/><p class="title"><strong>Table 4.2. JIRA categories</strong></p><div class="table-contents"><table summary="JIRA categories" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="left">Category</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Feature Request</td><td align="left">Request for a feature made by the community.</td></tr><tr><td align="left">Bug</td><td align="left">Software defect in the project.</td></tr><tr><td align="left">Task</td><td align="left">Development task created by a member of the team.</td></tr><tr><td align="left">Release</td><td align="left">Issue which holds informations about a release.</td></tr><tr><td align="left">Component Update</td><td align="left">Identifies a thirdparty library dependency.</td></tr></tbody></table></div></div><br class="table-break"/><p>The other categories in the JIRA installation are not used by this project.</p></div><div class="section" title="4.4. Life cycle"><div class="titlepage"><div><div><h2 class="title"><a id="lifecycle"/>4.4. Life cycle</h2></div></div></div><p>All issues folows the following life cycle:</p><div class="table"><a id="d0e785"/><p class="title"><strong>Table 4.3. JIRA Lifecycle</strong></p><div class="table-contents"><table summary="JIRA Lifecycle" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="left">Lifecycle</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Open</td><td align="left">An issue currently not implemented.</td></tr><tr><td align="left">Coding in Progress</td><td align="left">An issue currently being worked on.</td></tr><tr><td align="left">Resolved</td><td align="left">An issue which has been implemented.</td></tr><tr><td align="left">Closed</td><td align="left">An issue that has been resolved and is included in a release.</td></tr></tbody></table></div></div><br class="table-break"/><p>Note: 'Component Update' issues can't be resolved nor closed during a development cycle. These are resolved
      and closed as part of the release procedure of the project. The reason for this is that the library in
      question can receive further updates during the active development cycle.</p></div><div class="section" title="4.5. Priorities"><div class="titlepage"><div><div><h2 class="title"><a id="priorities"/>4.5. Priorities</h2></div></div></div><p>All issues are assigned one of the following priorities:</p><div class="table"><a id="d0e825"/><p class="title"><strong>Table 4.4. JIRA Priorities</strong></p><div class="table-contents"><table summary="JIRA Priorities" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/></colgroup><thead><tr><th align="left">Priority</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Blocker</td><td align="left">An issue that needs to be fixed before the release.</td></tr><tr><td align="left">Critical</td><td align="left">An issue that is critical for the release.</td></tr><tr><td align="left">Major</td><td align="left">The default priority for an issue.</td></tr><tr><td align="left">Minor</td><td align="left">An issue that is optional for a release.</td></tr><tr><td align="left">Trivial</td><td align="left">An issue that is optional for a release and have a lower priority than Minor.</td></tr></tbody></table></div></div><br class="table-break"/></div></div><div class="chapter" title="Chapter 5. Testing"><div class="titlepage"><div><div><h2 class="title"><a id="testing"/>Chapter 5. Testing</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#testinggoals">5.1. Overall goals</a></span></dt><dd><dl><dt><span class="section"><a href="#spectest">5.1.1. Specification</a></span></dt><dt><span class="section"><a href="#jbinterfacetest">5.1.2. IronJacamar specific interfaces</a></span></dt><dt><span class="section"><a href="#jbimpltest">5.1.3. IronJacamar specific implementation</a></span></dt></dl></dd><dt><span class="section"><a href="#style">5.2. Testing principle and style</a></span></dt><dd><dl><dt><span class="section"><a href="#integration">5.2.1. Integration Tests</a></span></dt><dt><span class="section"><a href="#unit">5.2.2. Unit Tests</a></span></dt></dl></dd><dt><span class="section"><a href="#qa">5.3. Quality Assurance</a></span></dt><dd><dl><dt><span class="section"><a href="#checkstyle">5.3.1. Checkstyle</a></span></dt><dt><span class="section"><a href="#findbugs">5.3.2. Findbugs</a></span></dt><dt><span class="section"><a href="#jacoco">5.3.3. JaCoCo</a></span></dt><dt><span class="section"><a href="#tattletale">5.3.4. Tattletale</a></span></dt></dl></dd><dt><span class="section"><a href="#performance">5.4. Performance testing</a></span></dt><dd><dl><dt><span class="section"><a href="#jprofiler">5.4.1. JProfiler</a></span></dt><dt><span class="section"><a href="#oprofile">5.4.2. OProfile</a></span></dt></dl></dd></dl></div><div class="section" title="5.1. Overall goals"><div class="titlepage"><div><div><h2 class="title"><a id="testinggoals"/>5.1. Overall goals</h2></div></div></div><p>The overall goals of our test environment is to execute tests that ensures that
    we have full coverage of the JCA specification as well as our implementation.</p><p>The full test suite is executed using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant test
    </pre><p>A single test case can be executed using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant -Dmodule=embedded -Dtest=org.jboss.jca.embedded.unit.ShrinkWrapTestCase one-test
    </pre><p>where <code class="code">-Dmodule</code> specifies which module to execute the test case in. This parameter
      defaults to <code class="code">core</code>. The <code class="code">-Dtest</code> parameter specifies the test case itself.</p><p>You can also execute all test cases of a single module using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant -Dmodule=embedded module-test
    </pre><p>where <code class="code">-Dmodule</code> specifies which module to execute the test cases in. This
      parameter defaults to <code class="code">core</code>.</p><p>The build script does not fail in case of test errors or failure.</p><p>
      You can control the behavior by using the <code class="code">junit.haltonerror</code> and <code class="code">junit.haltonfailure</code> 
      properties in the main <code class="code">build.xml</code> file. Default value for both is <code class="code">no</code>.
    </p><p>
      You can of course change them statically in the <code class="code">build.xml</code> file or temporary using <code class="code">-Djunit.haltonerror=yes</code>.
      There are other <code class="code">jnuit.*</code> properties defined in the main <code class="code">build.xml</code> that can be controlled in the same
      way.
    </p><div class="section" title="5.1.1. Specification"><div class="titlepage"><div><div><h3 class="title"><a id="spectest"/>5.1.1. Specification</h3></div></div></div><p>The purpose of the specification tests is to test our implementation against the
      actual specification text.</p><p>Each test can only depend on:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>The official Java Connector Architecture API (javax.resource)</p></li><li class="listitem"><p>Interfaces and classes in the test suite that extends/implements 
            the official API</p></li></ul></div><p>The test cases should be created in such a way such that they are easily identified
        by chapter, section and paragraph. For example:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.core.spec.chaper10.section3
      </pre></div><div class="section" title="5.1.2. IronJacamar specific interfaces"><div class="titlepage"><div><div><h3 class="title"><a id="jbinterfacetest"/>5.1.2. IronJacamar specific interfaces</h3></div></div></div><p>The purpose of the IronJacamar specific interfaces tests is to test our specific interfaces.</p><p>Each test can depend on:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>The official Java Connector Architecture API (javax.resource)</p></li><li class="listitem"><p>The IronJacamar specific APIs (org.jboss.jca.xxx.api)</p></li><li class="listitem"><p>Interfaces and classes in the test suite that extends/implements these APIs</p></li></ul></div><p>The test cases lives in a package that have a meaningful name of the component it tests. For example:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.core.workmanager
      </pre><p>These test cases can use both the embedded JCA environment or be implemented as standard POJO based
        JUnit test cases.</p></div><div class="section" title="5.1.3. IronJacamar specific implementation"><div class="titlepage"><div><div><h3 class="title"><a id="jbimpltest"/>5.1.3. IronJacamar specific implementation</h3></div></div></div><p>The purpose of the IronJacamar specific implementation tests is to test our specific implementation.
      These tests should cover all methods are not exposed through the interface.</p><p>Each test can depend on:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>The official Java Connector Architecture API (javax.resource)</p></li><li class="listitem"><p>The IronJacamar specific APIs (org.jboss.jca.xxx.api)</p></li><li class="listitem"><p>The IronJacamar specific implementation (org.jboss.jca.xxx.yyy)</p></li><li class="listitem"><p>Interfaces and classes in the test suite</p></li></ul></div><p>The test cases lives in a package that have a meaningful name of the component it tests. For example:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.core.workmanager
      </pre><p>These test cases can use both the embedded JCA environment or be implemented as standard POJO based
        JUnit test cases.</p></div></div><div class="section" title="5.2. Testing principle and style"><div class="titlepage"><div><div><h2 class="title"><a id="style"/>5.2. Testing principle and style</h2></div></div></div><p>
      Our tests follows the Behavior Driven Development (BDD) technique. In BDD you focus on specifying the behaviors
      of a class and write code (tests) that verify that behavior.
    </p><p>
      You may be thinking that BDD sounds awfully similar to Test Driven Development (TDD). 
      In some ways they are similar: they both encourage writing the tests first and to provide full coverage of the 
      code. However, TDD doesn't really provide a guide on which kind of tests you should be writing.
    </p><p>
      BDD provides you with guidance on how to do testing by focusing on what the behavior of a class is supposed to be.
      We introduce BDD to our testing environment by extending the standard JUnit 4.x test framework with
      BDD capabilities using assertion and mocking frameworks.
    </p><p>
      The BDD tests should
    </p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>
          Clearly define <code class="code">given-when-then</code> conditions
        </p></li><li class="listitem"><p>
          The method name defines what is expected: f.ex. shouldReturnFalseIfMethodXIsCalledWithNullString()
        </p></li><li class="listitem"><p>
          Easy to read the assertions by using <a class="ulink" href="http://code.google.com/p/hamcrest/">Hamcrest Matchers</a>
        </p></li><li class="listitem"><p>
          Use <code class="code">given</code> facts whenever possible to make the test case more readable. It could be the
          name of the deployed resource adapter, or using the 
          <a class="ulink" href="http://mockito.googlecode.com/svn/branches/1.8.0/javadoc/org/mockito/BDDMockito.html">
            BDD Mockito class</a> to mock the fact.
        </p></li></ul></div><p>We are using two different kind of tests:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>
          Integration Tests: The goal of these test cases is to validate the whole process of deployment, and
          interacting with a sub-system by simulating a critical condition.
        </p></li><li class="listitem"><p>
          Unit Tests: The goal of these test cases is to stress test some internal behaviour by mocking classes
          to perfectly reproduce conditions to test.
        </p></li></ul></div><div class="section" title="5.2.1. Integration Tests"><div class="titlepage"><div><div><h3 class="title"><a id="integration"/>5.2.1. Integration Tests</h3></div></div></div><p>
        The integration tests simulate a real condition using a particular deployment artifacts packaged as 
        resource adapters.
      </p><p>
        The resource adapters are created using either the main build environment or by using 
        <a class="ulink" href="http://community.jboss.org/wiki/ShrinkWrap">ShrinkWrap</a>. Using resource adapters
        within the test cases will allow you to debug both the resource adapters themself or the JCA container.
      </p><p>
        The resource adapters represent the [<span class="citation">given</span>] facts of our BDD tests, 
        the deployment of the resource adapters represent the [<span class="citation">when</span>] phase, 
        while the [<span class="citation">then</span>] phase is verified by assertion.
      </p><p>
        Note that some tests consider an exception a normal output condition using the JUnit 4.x 
        <code class="code">@Exception(expected = "SomeClass.class")</code> annotation to identify and verify this situation. 
      </p></div><div class="section" title="5.2.2. Unit Tests"><div class="titlepage"><div><div><h3 class="title"><a id="unit"/>5.2.2. Unit Tests</h3></div></div></div><p>
        We are mocking our input/output conditions in our unit tests using the 
        <a class="ulink" href="http://mockito.googlecode.com">Mockito</a> framework to verify class and method behaviors.
      </p><p>An example:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">@</span><span class="java_type">Test</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;printFailuresLogShouldReturnNotEmptyStringForWarning</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">Throwable</span>
<!--  --><br/><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">given</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">RADeployer</span><span class="java_plain">&nbsp;deployer&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">RADeployer</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">File</span><span class="java_plain">&nbsp;mockedDirectory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;mock</span><span class="java_separator">(</span><span class="java_type">File</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;given</span><span class="java_separator">(</span><span class="java_plain">mockedDirectory</span><span class="java_separator">.</span><span class="java_plain">exists</span><span class="java_separator">()).</span><span class="java_plain">willReturn</span><span class="java_separator">(</span><span class="java_literal">false</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">Failure</span><span class="java_plain">&nbsp;failure&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;mock</span><span class="java_separator">(</span><span class="java_type">Failure</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;given</span><span class="java_separator">(</span><span class="java_plain">failure</span><span class="java_separator">.</span><span class="java_plain">getSeverity</span><span class="java_separator">()).</span><span class="java_plain">willReturn</span><span class="java_separator">(</span><span class="java_type">Severity</span><span class="java_separator">.</span><span class="java_plain">WARNING</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">List</span><span class="java_plain">&nbsp;failures&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Arrays</span><span class="java_separator">.</span><span class="java_plain">asList</span><span class="java_separator">(</span><span class="java_plain">failure</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">FailureHelper</span><span class="java_plain">&nbsp;fh&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;mock</span><span class="java_separator">(</span><span class="java_type">FailureHelper</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;given</span><span class="java_separator">(</span><span class="java_plain">fh</span><span class="java_separator">.</span><span class="java_plain">asText</span><span class="java_separator">((</span><span class="java_type">ResourceBundle</span><span class="java_separator">)</span><span class="java_plain">&nbsp;anyObject</span><span class="java_separator">())).</span><span class="java_plain">willReturn</span><span class="java_separator">(</span><span class="java_literal">&quot;myText&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;deployer</span><span class="java_separator">.</span><span class="java_plain">setArchiveValidationFailOnWarn</span><span class="java_separator">(</span><span class="java_literal">true</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">when</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;returnValue&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;deployer</span><span class="java_separator">.</span><span class="java_plain">printFailuresLog</span><span class="java_separator">(</span><span class="java_literal">null</span><span class="java_separator">,</span><span class="java_plain">&nbsp;mock</span><span class="java_separator">(</span><span class="java_type">Validator</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">),</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failures</span><span class="java_separator">,</span><span class="java_plain">&nbsp;mockedDirectory</span><span class="java_separator">,</span><span class="java_plain">&nbsp;fh</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">then</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;assertThat</span><span class="java_separator">(</span><span class="java_plain">returnValue</span><span class="java_separator">,</span><span class="java_plain">&nbsp;is</span><span class="java_separator">(</span><span class="java_literal">&quot;myText&quot;</span><span class="java_separator">));</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><p>
        As you can see the BDD style respects the test method name and using the 
        <code class="code">given-when-then</code> sequence in order.
      </p></div></div><div class="section" title="5.3. Quality Assurance"><div class="titlepage"><div><div><h2 class="title"><a id="qa"/>5.3. Quality Assurance</h2></div></div></div><p>In addition to the test suite the IronJacamar project deploys various
      tools to increase the stability of the project.</p><p>The following sections will describe each of these tools.</p><div class="section" title="5.3.1. Checkstyle"><div class="titlepage"><div><div><h3 class="title"><a id="checkstyle"/>5.3.1. Checkstyle</h3></div></div></div><p>Checkstyle is a tool that verifies that the formatting of the source
        code in the project is consistent.</p><p>This allows for easier readability and a consistent feel of the project.</p><p>The goal is to have zero errors in the report. The checkstyle report is generated
        using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant checkstyle
      </pre><p>The report is generated into</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
reports/checkstyle
      </pre><p>The home of checkstyle is located here: <a class="ulink" href="http://checkstyle.sourceforge.net/">http://checkstyle.sourceforge.net/</a>.</p></div><div class="section" title="5.3.2. Findbugs"><div class="titlepage"><div><div><h3 class="title"><a id="findbugs"/>5.3.2. Findbugs</h3></div></div></div><p>Findbugs is a tool that scans your project for bugs and provides reports based on its
        findings.</p><p>This tool helps lower of the number of bugs found in the IronJacamar project.</p><p>The goal is to have zero errors in the report and as few exclusions in the filter as possible.
        The findbugs report is generated using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant findbugs
      </pre><p>The report is generated into</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
reports/findbugs
      </pre><p>The home of findbugs is located here: <a class="ulink" href="http://findbugs.sourceforge.net/">http://findbugs.sourceforge.net/</a>.</p></div><div class="section" title="5.3.3. JaCoCo"><div class="titlepage"><div><div><h3 class="title"><a id="jacoco"/>5.3.3. JaCoCo</h3></div></div></div><p>JaCoCo generates a test suite matrix for your project which helps you identify
        where you need additional test coverage.</p><p>The reports that the tool provides makes sure that the IronJacamar project has the correct test coverage.</p><p>The goal is to have as high code coverage as possible in all areas. The JaCoco report is
        generated using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant jacoco
      </pre><p>The report is generated into</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
reports/jacoco
      </pre><p>The home of JaCoCo is located here: <a class="ulink" href="http://www.eclemma.org/jacoco/">http://www.eclemma.org/jacoco/</a>.</p></div><div class="section" title="5.3.4. Tattletale"><div class="titlepage"><div><div><h3 class="title"><a id="tattletale"/>5.3.4. Tattletale</h3></div></div></div><p>Tattletale generates reports about different quality matrix of the dependencies within the project.</p><p>The reports that the tool provides makes sure that the IronJacamar project doesn't for example have
        cyclic dependencies within the project.</p><p>The goal is to have as no issues flagged by the tool. The Tattletale reports are
        generated using</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
ant tattletale
      </pre><p>The reports are generated into</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
reports/tattletale
      </pre><p>The home of Tattletale is located here: <a class="ulink" href="http://www.jboss.org/tattletale">http://www.jboss.org/tattletale</a>.</p></div></div><div class="section" title="5.4. Performance testing"><div class="titlepage"><div><div><h2 class="title"><a id="performance"/>5.4. Performance testing</h2></div></div></div><p>Performance testing can identify areas that needs to be improved or completely replaced.</p><div class="section" title="5.4.1. JProfiler"><div class="titlepage"><div><div><h3 class="title"><a id="jprofiler"/>5.4.1. JProfiler</h3></div></div></div><p>Insert the following line in <code class="code">run.sh</code> or <code class="code">run.bat</code>:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
-agentpath:&lt;path&gt;/jprofiler6/bin/linux-x64/libjprofilerti.so=port=8849 
      </pre><p>where the Java command is executed.</p><p>The home of JProfiler is located here: <a class="ulink" href="http://www.ej-technologies.com/products/jprofiler/overview.html">http://www.ej-technologies.com/products/jprofiler/overview.html</a>.</p></div><div class="section" title="5.4.2. OProfile"><div class="titlepage"><div><div><h3 class="title"><a id="oprofile"/>5.4.2. OProfile</h3></div></div></div><p>OProfile can give a detailed overview of applications running on the machine, including
        Java program running with OpenJDK.</p><p>The home of OProfile is located here: <a class="ulink" href="http://oprofile.sourceforge.net">http://oprofile.sourceforge.net</a>.</p><div class="section" title="5.4.2.1. Installation"><div class="titlepage"><div><div><h4 class="title"><a id="oprofile_install"/>5.4.2.1. Installation</h4></div></div></div><p>Enable the Fedora debug repo:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
/etc/yum.repos.d/fedora.repo

[fedora-debuginfo]
name=Fedora $releasever - $basearch - Debug
failovermethod=priority
mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=fedora-debug-$releasever&amp;arch=$basearch
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$basearch
        </pre><p>Install:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
yum install -y oprofile oprofile-jit
yum install -y yum-plugin-auto-update-debug-info
yum install -y java-1.6.0-openjdk-debuginfo
        </pre></div><div class="section" title="5.4.2.2. Running"><div class="titlepage"><div><div><h4 class="title"><a id="oprofile_running"/>5.4.2.2. Running</h4></div></div></div><p>Insert the following line in <code class="code">run.sh</code> or <code class="code">run.bat</code>:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
-agentpath:/usr/lib64/oprofile/libjvmti_oprofile.so
        </pre><p>for 64bit JVMs or </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
-agentpath:/usr/lib/oprofile/libjvmti_oprofile.so
        </pre><p>for 32 bit JVMs where the Java command is executed.</p><p>Now execute:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
opcontrol --no-vmlinux
opcontrol --start-daemon
        </pre><p>and use the following commands:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
opcontrol --start # Starts profiling
opcontrol --dump  # Dumps the profiling data out to the default file
opcontrol --stop  # Stops profiling
        </pre><p>Once you are done execute:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
opcontrol --shutdown  # Shuts the daemon down
        </pre><p>A report can be generated by:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
opreport -l --output-file=&lt;filename&gt;
        </pre><p>Remember that this is system wide profiling, so make sure that only the services
          that you want included are running.</p><p>More information is available at <a class="ulink" href="http://oprofile.sourceforge.net/doc/index.html">http://oprofile.sourceforge.net/doc/index.html</a>.</p></div></div></div></div><div class="chapter" title="Chapter 6. Metadata"><div class="titlepage"><div><div><h2 class="title"><a id="metadata"/>Chapter 6. Metadata</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#coremetadata">6.1. Core Metadata</a></span></dt><dd><dl><dt><span class="section"><a href="#jcametadata">6.1.1. Java Connector Architecture Metadata</a></span></dt><dt><span class="section"><a href="#ironjacamarmetadata">6.1.2. IronJacamar Metadata</a></span></dt><dt><span class="section"><a href="#resourceadapterdeploymentmetadata">6.1.3. Resource adapter deployment Metadata</a></span></dt><dt><span class="section"><a href="#datasourcedeploymentmetadata">6.1.4. Datasource deployment Metadata</a></span></dt></dl></dd><dt><span class="section"><a href="#metadatarepository">6.2. Metadata Repository</a></span></dt><dd><dl><dt><span class="section"><a href="#mdrinterface">6.2.1. Interface</a></span></dt><dt><span class="section"><a href="#mdrbean">6.2.2. Bean</a></span></dt></dl></dd></dl></div><div class="section" title="6.1. Core Metadata"><div class="titlepage"><div><div><h2 class="title"><a id="coremetadata"/>6.1. Core Metadata</h2></div></div></div><p>The metadata for the IronJacamar project is split up into the following areas</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>Java Connector Architecture Metadata</p></li><li class="listitem"><p>IronJacamar Metadata</p></li><li class="listitem"><p>Resource adapter deployment Metadata</p></li><li class="listitem"><p>DataSource deployment Metadata</p></li></ul></div><p>All metadata parsing is done using the StAX model (<code class="code">javax.xml.stream</code>) for
      optimal performance.</p><p>The implementation of these areas is done within the common module of the project.</p><div class="section" title="6.1.1. Java Connector Architecture Metadata"><div class="titlepage"><div><div><h3 class="title"><a id="jcametadata"/>6.1.1. Java Connector Architecture Metadata</h3></div></div></div><p>The Java Connector Architecture (JCA) metadata implement the metadata defined in the JCA specifications.
        We have metadata representing the following standards:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>Java Connector Architecture 1.0</p></li><li class="listitem"><p>Java Connector Architecture 1.5</p></li><li class="listitem"><p>Java Connector Architecture 1.6</p></li></ul></div><p>An instance of the metadata is bundle with the resource adapter archive as</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
META-INF/ra.xml
      </pre><p>The implementation is split into two package hierarchies - the API in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.api.metadata.ra
      </pre><p>and the implementation in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.metadata.ra
      </pre><p>.</p></div><div class="section" title="6.1.2. IronJacamar Metadata"><div class="titlepage"><div><div><h3 class="title"><a id="ironjacamarmetadata"/>6.1.2. IronJacamar Metadata</h3></div></div></div><p>The IronJacamar metadata can provide overrides for the values specified in the
        standard Java Connector Architecture metdata. It is also possible to specify
        deployment metadata, which will active an instance of the resource adapter without
        any other deployment plans.</p><p>Supported versions of the metadata:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>IronJacamar 1.0</p></li></ul></div><p>An instance of the metadata is bundle with the resource adapter archive as</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
META-INF/ironjacamar.xml
      </pre><p>The implementation is split into two package hierarchies - the API in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.api.metadata.ironjacamar
      </pre><p>and the implementation in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.metadata.ironjacamar
      </pre><p>.</p></div><div class="section" title="6.1.3. Resource adapter deployment Metadata"><div class="titlepage"><div><div><h3 class="title"><a id="resourceadapterdeploymentmetadata"/>6.1.3. Resource adapter deployment Metadata</h3></div></div></div><p>The resource adapter deployment metadata provides a deployment plan for
        the specified resource adapter archive. It is possible to override
        metadata specified as part of the Java Connector Architecture metadata or 
        the IronJacamar metadata.</p><p>Supported versions of the metadata:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>Resource adapter deployment 1.0</p></li></ul></div><p>The implementation is split into two package hierarchies - the API in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.api.metadata.resourceadapters
      </pre><p>and the implementation in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.metadata.resourceadapters
      </pre><p>.</p></div><div class="section" title="6.1.4. Datasource deployment Metadata"><div class="titlepage"><div><div><h3 class="title"><a id="datasourcedeploymentmetadata"/>6.1.4. Datasource deployment Metadata</h3></div></div></div><p>The datasource deployment metadata provides a deployment plan for
        datasources. The metadata allows the developer to setup connection parameters, pooling
        settings and security.</p><p>Supported versions of the metadata:</p><div class="itemizedlist"><ul class="itemizedlist" compact="compact"><li class="listitem"><p>Datasource deployment 1.0</p></li></ul></div><p>The implementation is split into two package hierarchies - the API in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.api.metadata.ds
      </pre><p>and the implementation in</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.common.metadata.ds
      </pre><p>.</p><div class="section" title="6.1.4.1. Datasource mapping"><div class="titlepage"><div><div><h4 class="title"><a id="datasourcedeploymentmetadatamapping"/>6.1.4.1. Datasource mapping</h4></div></div></div><p>The table below specifies how each attribute/element map to the resource adapter
          or the container.</p><div class="table"><a id="d0e1384"/><p class="title"><strong>Table 6.1. Datasource mapping</strong></p><div class="table-contents"><table summary="Datasource mapping" border="1"><colgroup><col align="left" class="c1"/><col align="left" class="c2"/><col align="left" class="c3"/></colgroup><thead><tr><th align="left">Tag</th><th align="left">Resource Adapter</th><th align="left">Container</th></tr></thead><tbody><tr><td align="left"><code class="code">min-pool-size</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">max-pool-size</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">prefill</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">user-name</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">password</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">connection-url</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">driver-class</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">transaction-isolation</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">connection-property</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">url-delimiter</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">url-selector-strategy-class-name</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">new-connection-sql</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">xa-datasource-property</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">xa-datasource-class</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">is-same-rm-override</code></td><td align="left"> </td><td align="left"><code class="code">TxConnectionManager</code></td></tr><tr><td align="left"><code class="code">interleaving</code></td><td align="left"> </td><td align="left"><code class="code">TxConnectionManager</code></td></tr><tr><td align="left"><code class="code">prepared-statement-cache-size</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">share-prepared-statements</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">pad-xid</code></td><td align="left"> </td><td align="left"><code class="code">TxConnectionManager</code></td></tr><tr><td align="left"><code class="code">wrap-xa-resource</code></td><td align="left"> </td><td align="left"><code class="code">TxConnectionManager</code></td></tr><tr><td align="left"><code class="code">no-tx-separate-pools</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">jndi-name</code></td><td align="left"> </td><td align="left"><code class="code">ConnectionManager</code></td></tr><tr><td align="left"><code class="code">pool-name</code></td><td align="left"> </td><td align="left">X</td></tr><tr><td align="left"><code class="code">enabled</code></td><td align="left"> </td><td align="left">X</td></tr><tr><td align="left"><code class="code">use-java-context</code></td><td align="left"> </td><td align="left">X</td></tr><tr><td align="left"><code class="code">valid-connection-checker-class-name</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">check-valid-connection-sql</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">validate-on-match</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">background-validation</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">background-validation-minutes</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">use-fast-fail</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">stale-connection-checker-class-name</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">exception-sorter-class-name</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">blocking-timeout-millis</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">idle-timeout-minutes</code></td><td align="left"> </td><td align="left"><code class="code">Pool</code></td></tr><tr><td align="left"><code class="code">set-tx-query-timeout</code></td><td align="left"> </td><td align="left"> </td></tr><tr><td align="left"><code class="code">query-timeout</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">use-try-lock</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">allocation-retry</code></td><td align="left"> </td><td align="left"><code class="code">ConnectionManager</code></td></tr><tr><td align="left"><code class="code">allocation-retry-wait-millis</code></td><td align="left"> </td><td align="left"><code class="code">ConnectionManager</code></td></tr><tr><td align="left"><code class="code">xa-resource-timeout</code></td><td align="left"> </td><td align="left"><code class="code">TxConnectionManager</code></td></tr><tr><td align="left"><code class="code">track-statements</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">prepared-statement-cache-size</code></td><td align="left">X</td><td align="left"> </td></tr><tr><td align="left"><code class="code">share-prepared-statements</code></td><td align="left">X</td><td align="left"> </td></tr></tbody></table></div></div><br class="table-break"/></div></div></div><div class="section" title="6.2. Metadata Repository"><div class="titlepage"><div><div><h2 class="title"><a id="metadatarepository"/>6.2. Metadata Repository</h2></div></div></div><p>The metadata repository serves as a central point for all the metadata in the systems.</p><div class="section" title="6.2.1. Interface"><div class="titlepage"><div><div><h3 class="title"><a id="mdrinterface"/>6.2.1. Interface</h3></div></div></div><p>The interface of the metadata repository is located in:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
org.jboss.jca.core.spi.MetaDataRepository
      </pre><p>providing methods to query and update the repository.</p></div><div class="section" title="6.2.2. Bean"><div class="titlepage"><div><div><h3 class="title"><a id="mdrbean"/>6.2.2. Bean</h3></div></div></div><p>The implementation of the metadata repository can be defined as:</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;MetaDataRepository&quot;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">interface</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.jboss.jca.core.spi.MetaDataRepository&quot;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.jboss.jca.core.mdr.SimpleMetaDataRepository&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>which is a simple implementation of the metadata repository service provider interface (SPI).</p></div></div></div><div class="chapter" title="Chapter 7. Deployers"><div class="titlepage"><div><div><h2 class="title"><a id="deployers"/>Chapter 7. Deployers</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#rardeployer">7.1. RAR Deployer</a></span></dt><dd><dl><dt><span class="section"><a href="#rardeployer_fungal">7.1.1. Fungal</a></span></dt></dl></dd><dt><span class="section"><a href="#dsdeployer">7.2. DataSource Deployer</a></span></dt><dd><dl><dt><span class="section"><a href="#dsdeployer_fungal">7.2.1. Fungal</a></span></dt></dl></dd></dl></div><p>The deployer chains for the project is located in the <code class="code">deployers</code> module.</p><div class="section" title="7.1. RAR Deployer"><div class="titlepage"><div><div><h2 class="title"><a id="rardeployer"/>7.1. RAR Deployer</h2></div></div></div><p>The responsibility of the RAR deployer is to deploy a resource adapter archive (.RAR) file.</p><div class="section" title="7.1.1. Fungal"><div class="titlepage"><div><div><h3 class="title"><a id="rardeployer_fungal"/>7.1.1. Fungal</h3></div></div></div><p>The Fungal kernel features a simple deployment framework, so only three classes are needed for the
        deployer chain.</p><p>The classes are located in the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
deployers/src/main/java/org/jboss/jca/deployers/fungal
      </pre><p>directory.</p><div class="section" title="7.1.1.1. RADeployer"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_radeployer"/>7.1.1.1. RADeployer</h4></div></div></div><p>This class represent a resource adapter deployer and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployer
com.github.fungal.spi.deployers.MultiStageDeployer
com.github.fungal.spi.deployers.DeployerOrder
        </pre><p>interfaces.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Create a classloader for the deployment
          </li><li class="listitem">
            Retrieve metadata and annotations such that they can be merged
          </li><li class="listitem">
            Perform archive validation using the JCA validator
          </li><li class="listitem">
            Perform bean validation
          </li><li class="listitem">
            Register the metadata in the metadata repository
          </li><li class="listitem">
            Register the resource adapter in the metadata repository
          </li><li class="listitem">
            Identify and activate the resource adapter objects - if JNDI information is available
          </li><li class="listitem">
            Bind connection factories and admin objects into JNDI - if JNDI information is available
          </li></ul></div><p>If the resource adapter isn't activated in this step based on an <code class="code">ironjacamar.xml</code>
          file, the deployment will advance to the next step in the deployer chain.</p></div><div class="section" title="7.1.1.2. RADeployment"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_radeployment"/>7.1.1.2. RADeployment</h4></div></div></div><p>This class represent a resource adapter deployment and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployment
        </pre><p>interface.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Unregister the resource adapter from the metadata repository
          </li><li class="listitem">
            Unregister the JNDI bindings in the metadata repository - if the deployment was activated
          </li><li class="listitem">
            Unbind connection factories and admin objects in JNDI - if the deployment was activated
          </li><li class="listitem">
            Close the classloader
          </li><li class="listitem">
            Clean up any temporary files
          </li></ul></div></div><div class="section" title="7.1.1.3. RaXmlDeployer"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_raxmldeployer"/>7.1.1.3. RaXmlDeployer</h4></div></div></div><p>This class represent a resource adapter deployer and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployer
com.github.fungal.spi.deployers.MultiStageDeployer
com.github.fungal.spi.deployers.DeployerOrder
com.github.fungal.spi.deployers.DeployerPhases
        </pre><p>interface.</p><p>The class deploys resource adapter archives based on a <code class="code">-ra.xml</code> which
          provides the necessary deployment information.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Create a classloader for the deployment
          </li><li class="listitem">
            Retrieve metadata from the metadata repository
          </li><li class="listitem">
            Merge metadata from the deployment descriptor
          </li><li class="listitem">
            Perform archive validation using the JCA validator
          </li><li class="listitem">
            Perform bean validation
          </li><li class="listitem">
            Register the metadata in the metadata repository
          </li><li class="listitem">
            Identify and activate the resource adapter objects
          </li><li class="listitem">
            Bind connection factories and admin objects into JNDI
          </li></ul></div><p>Since multiple resource adapter archives can be activated within a single <code class="code">-ra.xml</code>
          file the class uses the <code class="code">DeployerPhases</code> callbacks to unregister these from the
          container. If there is only a single resource adapter activation the deployer acts as part of 
          the normal deployer chain.</p></div><div class="section" title="7.1.1.4. RaXmlDeployment"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_raxmldeployment"/>7.1.1.4. RaXmlDeployment</h4></div></div></div><p>This class represent a resource adapter deployment from the <code class="code">RaXmlDeployer</code>
          and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployment
        </pre><p>interface.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Unregister the JNDI bindings in the metadata repository
          </li><li class="listitem">
            Unbind connection factories and admin objects in JNDI
          </li><li class="listitem">
            Close the classloader
          </li></ul></div></div><div class="section" title="7.1.1.5. RAActivator"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_raactivator"/>7.1.1.5. RAActivator</h4></div></div></div><p>This class will activate all resource adapters which hasn't been deployed by a previous step.
          The class implements the </p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.DeployerPhases
        </pre><p>interface. This interface allows the class to hook into the deployer lifecycle of the kernel
          and receive callback notifications.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Find any resource adapters which hasn't been deployed through the metadata repository
          </li><li class="listitem">
            Perform a deployment like <code class="code">RADeployer</code></li><li class="listitem">
            Register each deployment with the kernel through the main deployer
          </li></ul></div></div><div class="section" title="7.1.1.6. RAActivatorDeployment"><div class="titlepage"><div><div><h4 class="title"><a id="rardeployer_fungal_raactivator_deployment"/>7.1.1.6. RAActivatorDeployment</h4></div></div></div><p>This class represent a resource adapter deployment activated by the <code class="code">RAActivator</code>
          and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployment
        </pre><p>interface.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Unregister the JNDI bindings in the metadata repository
          </li><li class="listitem">
            Unbind connection factories and admin objects in JNDI
          </li><li class="listitem">
            Close the classloader
          </li></ul></div></div></div></div><div class="section" title="7.2. DataSource Deployer"><div class="titlepage"><div><div><h2 class="title"><a id="dsdeployer"/>7.2. DataSource Deployer</h2></div></div></div><p>The responsibility of the datasource deployer is to deploy a datasource deployment (-ds.xml) file.</p><div class="section" title="7.2.1. Fungal"><div class="titlepage"><div><div><h3 class="title"><a id="dsdeployer_fungal"/>7.2.1. Fungal</h3></div></div></div><p>The Fungal datasource deployer chain consists of two classes.</p><p>The classes are located in the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
deployers/src/main/java/org/jboss/jca/deployers/fungal
      </pre><p>directory.</p><div class="section" title="7.2.1.1. DsXmlDeployer"><div class="titlepage"><div><div><h4 class="title"><a id="dsdeployer_fungal_dsxmldeployer"/>7.2.1.1. DsXmlDeployer</h4></div></div></div><p>This class represent a datasource deployer and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployer
        </pre><p>interface.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Locate metadata about JDBC in the metadata repository
          </li><li class="listitem">
            Activate each <code class="code">DataSource</code> using <code class="code">jdbc-local.rar</code> as a template
          </li><li class="listitem">
            Activate each <code class="code">XaDataSource</code> using <code class="code">jdbc-xa.rar</code> as a template
          </li></ul></div></div><div class="section" title="7.2.1.2. DsXmlDeployment"><div class="titlepage"><div><div><h4 class="title"><a id="dsdeployer_fungal_dsxmldeployment"/>7.2.1.2. DsXmlDeployment</h4></div></div></div><p>This class represent a datasource deployment and implements the</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
com.github.fungal.spi.deployers.Deployment
        </pre><p>interface.</p><p>The responsible of the class is to</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
            Unbind the datasource in JNDI
          </li><li class="listitem">
            Close the classloader
          </li></ul></div></div></div></div></div><div class="chapter" title="Chapter 8. Connection manager"><div class="titlepage"><div><div><h2 class="title"><a id="cm"/>Chapter 8. Connection manager</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#cm_overview">8.1. Overview</a></span></dt><dt><span class="section"><a href="#cm_public">8.2. Public API</a></span></dt><dt><span class="section"><a href="#cm_private">8.3. Private API</a></span></dt><dt><span class="section"><a href="#cm_implementation">8.4. Implementation</a></span></dt><dd><dl><dt><span class="section"><a href="#cm_implementation_abstractconnectionmanager">8.4.1. AbstractConnectionManager</a></span></dt><dt><span class="section"><a href="#cm_implementation_notxconnectionmanager">8.4.2. NoTxConnectionManagerImpl</a></span></dt><dt><span class="section"><a href="#cm_implementation_txconnectionmanager">8.4.3. TxConnectionManagerImpl</a></span></dt><dt><span class="section"><a href="#cm_implementation_abstractconnectionlistener">8.4.4. AbstractConnectionListener</a></span></dt><dt><span class="section"><a href="#cm_implementation_notxconnectionlistener">8.4.5. NoTxConnectionListener</a></span></dt><dt><span class="section"><a href="#cm_implementation_txconnectionlistener">8.4.6. TxConnectionListener</a></span></dt></dl></dd></dl></div><div class="section" title="8.1. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="cm_overview"/>8.1. Overview</h2></div></div></div><p>
      The connection manager defines the interface for resource adapters to allocate connections, which are associated with
      the physical connections to the target Enterprise Information System, such as a database.
    </p><p>
      It is up to the connection manager to use the pool, and enlist the connection listeners in the transactions, if supported.
    </p><p>
      The connection manager architecture

      </p><div class="mediaobject" align="center"><img src="images/cm.png" align="middle"/></div><p>
    </p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
      Each of the components in the connection manager architecture can be accessed by multiple threads at the
      same time, hence each component needs to make sure that thread safely is maintained.
    </div></div><div class="section" title="8.2. Public API"><div class="titlepage"><div><div><h2 class="title"><a id="cm_public"/>8.2. Public API</h2></div></div></div><p>
      The public API defines the API that programs external to the IronJacamar project can use to
      configure, and use the connection manager.
    </p><p>
      The <code class="code">ConnectionManager</code> interface allows to associate and dissociate a managed connection
      with a connection.
    </p><p>
      The <code class="code">ConnectionListener</code> interface provides with IronJacamar contract for
      <code class="code">javax.resource.spi.ConnectionEventListener</code>.
    </p><p>
      The package for the public API is <code class="code">org.jboss.jca.core.api.connectionmanager</code>.
    </p></div><div class="section" title="8.3. Private API"><div class="titlepage"><div><div><h2 class="title"><a id="cm_private"/>8.3. Private API</h2></div></div></div><p>
      The private API defines the API that can be used internally IronJacamar to control the connection manager.
      The API extends the public API where it makes sense in order to provide a more uniform interface
      to the implementation.
    </p><p>
      The <code class="code">ConnectionManagerFactory</code> class can create a <code class="code">ConnectionManager</code> instance.
    </p><p>
      The <code class="code">ConnectionManager</code> interface defines the internal API of the connection manager used by IronJacamar.
    </p><p>
      The <code class="code">NoTxConnectionManager</code> interface defines the internal API of a non-transactional connection manager.
    </p><p>
      The <code class="code">TxConnectionManager</code> interface defines the internal API of a transactional connection manager.
    </p><p>
      The <code class="code">ConnectionListener</code> interface defines the internal API of a connection listener, which is associated
      with a managed connection.
    </p><p>
      The package for the private API is <code class="code">org.jboss.jca.core.connectionmanager</code>.
    </p></div><div class="section" title="8.4. Implementation"><div class="titlepage"><div><div><h2 class="title"><a id="cm_implementation"/>8.4. Implementation</h2></div></div></div><p>
      The implementation of the connection manager is split in two classes, with a shared base class for common
      functionality.
    </p><div class="section" title="8.4.1. AbstractConnectionManager"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_abstractconnectionmanager"/>8.4.1. AbstractConnectionManager</h3></div></div></div><p>
        <code class="code">AbstractConnectionManager</code> provides the methods that are shared across both implementations,
        <code class="code">NoTxConnectionManagerImpl</code> and <code class="code">TxConnectionManagerImpl</code>.
      </p><p>
        <code class="code">getManagedConnection(Transaction, Subject, ConnectionRequestInfo)</code> obtains a
        <code class="code">ConnectionListener</code> instance from the pool. If an error occurs a retry is performed, if configured.
      </p><p>
        <code class="code">returnManagedConnection(ConnectionListener, boolean)</code> returns a
        <code class="code">ConnectionListener</code> instance to the pool. If an error occurs a retry is performed, if configured.
      </p><p>
        <code class="code">allocateConnection(ManagedConnectionFactory, ConnectionRequestInfo)</code> allocates a connection for the
        managed connection attached to the <code class="code">ConnectionListener</code> instance.
      </p><p>
        <code class="code">associateManagedConnection(Object, ManagedConnectionFactory, ConnectionRequestInfo)</code> associates a
        <code class="code">ManagedConnection</code> with the passed in connection. This is a 
        <code class="code">LazyAssociatableConnectionManager</code> extension of IronJacamar.
      </p><p>
        <code class="code">dissociateManagedConnection(Object, ManagedConnection, ManagedConnectionFactory)</code> dissociates a
        connection with its <code class="code">ManagedConnection</code> instance. This is a 
        <code class="code">LazyAssociatableConnectionManager</code> extension of IronJacamar.
      </p><p>
        <code class="code">shutdown</code> shuts down the connection manager, and its related pool instance.
      </p></div><div class="section" title="8.4.2. NoTxConnectionManagerImpl"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_notxconnectionmanager"/>8.4.2. NoTxConnectionManagerImpl</h3></div></div></div><p>
        <code class="code">NoTxConnectionManagerImpl</code> provides the implementation for a connection manager configured
        with <code class="code">NoTransaction</code>.
      </p><p>
        <code class="code">createConnectionListener(ManagedConnection, ManagedConnectionPool)</code> creates a
        <code class="code">NoTxConnectionListener</code> and associates it with the <code class="code">ManagedConnection</code> instance.
      </p></div><div class="section" title="8.4.3. TxConnectionManagerImpl"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_txconnectionmanager"/>8.4.3. TxConnectionManagerImpl</h3></div></div></div><p>
        <code class="code">TxConnectionManagerImpl</code> provides the implementation for a connection manager configured
        with <code class="code">LocalTransaction</code> or <code class="code">XATransaction</code>.
      </p><p>
        <code class="code">createConnectionListener(ManagedConnection, ManagedConnectionPool)</code> creates a
        <code class="code">TxConnectionListener</code> and associates it with the <code class="code">ManagedConnection</code> instance.
        In case of <code class="code">LocalTransaction</code> a <code class="code">XAResource</code> is created to wrap the local transaction
        methods of the resource adapter. In case of <code class="code">XATransaction</code> the underlying <code class="code">XAResource</code>
        instance is wrapped with product information, if configured.
      </p><p>
        <code class="code">getManagedConnection(Subject, ConnectionRequestInfo)</code> verifies that a valid transaction
        exists before creating a <code class="code">ManagedConnection</code>, since there is no point in spending resources
        on work that is going to be rolled back. <code class="code">ironjacamar.allow_marked_for_rollback</code> overrides
        this behavior.
      </p><p>
        <code class="code">managedConnectionReconnected(ConnectionListener)</code> enlist the
        <code class="code">ConnectionListener</code> in the transaction.
      </p><p>
        <code class="code">managedConnectionDisconnected(ConnectionListener)</code> delist the
        <code class="code">ConnectionListener</code> from the transaction.
      </p><p>
        <code class="code">lazyEnlist(ManagedConnection)</code> handles lazy enlistment scenarios as defined by
        <code class="code">LazyEnlistableConnectionManager</code>.
      </p></div><div class="section" title="8.4.4. AbstractConnectionListener"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_abstractconnectionlistener"/>8.4.4. AbstractConnectionListener</h3></div></div></div><p>
        <code class="code">AbstractConnectionListener</code> provides the methods that are shared across both implementations,
        <code class="code">NoTxConnectionListener</code> and <code class="code">TxConnectionListener</code>. This base class keeps track
        off the connection handles used for the associated <code class="code">ManagedConnection</code>.
      </p><p>
        <code class="code">connectionErrorOccurred(ConnectionEvent)</code> logs the application error, and flushes either the
        <code class="code">Pool</code> or <code class="code">ManagedConnectionPool</code> depending on the strategy configured.
      </p><p>
        <code class="code">controls(ManagedConnection, Object)</code> checks if the <code class="code">ManagedConnection</code> and optional
        connection is controlled by this connection listener.
      </p><p>
        <code class="code">compareTo(Object)</code> is used to sort the connection listeners based on their last used time.
      </p></div><div class="section" title="8.4.5. NoTxConnectionListener"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_notxconnectionlistener"/>8.4.5. NoTxConnectionListener</h3></div></div></div><p>
        <code class="code">NoTxConnectionListener</code> is the listener for <code class="code">NoTransaction</code> scenarios.
      </p><p>
        <code class="code">connectionClosed(ConnectionEvent)</code> dissociates the connection handles, and if there
        are no handles associated anymore the <code class="code">ManagedConnection</code> is returned to the pool.
      </p></div><div class="section" title="8.4.6. TxConnectionListener"><div class="titlepage"><div><div><h3 class="title"><a id="cm_implementation_txconnectionlistener"/>8.4.6. TxConnectionListener</h3></div></div></div><p>
        <code class="code">TxConnectionListener</code> is the listener for <code class="code">LocalTransaction</code> and
        <code class="code">XATransaction</code> scenarios.
      </p><p>
        <code class="code">used()</code> updates the last used time, and resets the timeout value for the underlying
        <code class="code">XAResource</code> if in <code class="code">XATransaction</code> mode.
      </p><p>
        <code class="code">enlist()</code> enlists the <code class="code">XAResource</code> instances in the transaction through
        <code class="code">TransactionSynchronization</code> including resources picked up by the <code class="code">CachedConnectionManager</code>.
      </p><p>
        <code class="code">delist()</code> delists the <code class="code">XAResource</code> from the transaction in interleaved scenarios.
      </p><p>
        <code class="code">dissociate()</code> dissociates the <code class="code">ConnectionListener</code> with the transaction.
      </p><p>
        <code class="code">connectionClosed(ConnectionEvent)</code> dissociates a connection handle through <code class="code">wasFreed(Object)</code> and
        returns the <code class="code">ManagedConnection</code> in interleaved scenarios.
      </p><p>
        <code class="code">connectionErrorOccurred(ConnectionEvent)</code> clears any <code class="code">TransactionSynchronization</code> object such
        that the <code class="code">ManagedConnection</code> can be returned for destruction.
      </p><p>
        <code class="code">tidyup()</code> will rollback any left over <code class="code">LocalTransaction</code> instance.
      </p><p>
        <code class="code">isManagedConnectionFree()</code> checks if there is exists a <code class="code">TransactionSynchronization</code> object in
        track by transaction scenarios, since the <code class="code">ManagedConnection</code> can't be returned in that case.
      </p><p>
        <code class="code">wasFreed(Object)</code> dissociates a connection handle from the <code class="code">ConnectionListener</code>, or
        resets the track by transaction flag if <code class="code">null</code> such that the <code class="code">ManagedConnection</code> can
        be returned.
      </p><p>
        The <code class="code">TransactionSynchronization</code> class takes care of enlisting the <code class="code">XAResource</code>
        in the transaction, in track by transaction scenarios. This is done in its <code class="code">enlist()</code> and its
        result can be verified in <code class="code">checkEnlisted()</code>. The <code class="code">beforeCompletion()</code> method
        delists the <code class="code">XAResource</code> from the transaction. The <code class="code">afterCompletion(int)</code> method
        returns the <code class="code">ManagedConnection</code> to the pool.
      </p></div></div></div><div class="chapter" title="Chapter 9. Pool"><div class="titlepage"><div><div><h2 class="title"><a id="pool"/>Chapter 9. Pool</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#pool_overview">9.1. Overview</a></span></dt><dt><span class="section"><a href="#pool_public">9.2. Public API</a></span></dt><dt><span class="section"><a href="#pool_private">9.3. Private API</a></span></dt><dt><span class="section"><a href="#pool_implementation">9.4. Implementation</a></span></dt><dd><dl><dt><span class="section"><a href="#pool_implementation_abstractpool">9.4.1. AbstractPool</a></span></dt><dt><span class="section"><a href="#pool_implementation_prefill">9.4.2. AbstractPrefillPool</a></span></dt><dt><span class="section"><a href="#pool_implementation_types">9.4.3. Pool types</a></span></dt></dl></dd><dt><span class="section"><a href="#pool_mcp">9.5. ManagedConnectionPool</a></span></dt><dd><dl><dt><span class="section"><a href="#pool_mcp_private">9.5.1. Private API</a></span></dt><dt><span class="section"><a href="#pool_mcp_implementation">9.5.2. Implementation</a></span></dt></dl></dd></dl></div><div class="section" title="9.1. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="pool_overview"/>9.1. Overview</h2></div></div></div><p>
      The pool controls the physical connection to the target Enterprise Information System, such
      as a database.
    </p><p>
      It is up to the pool to create, hand out and destroy connections in the defined lifecycle
      based on the configuration parameters supplied by the user.
    </p><p>
      The pool architecture

      </p><div class="mediaobject" align="center"><img src="images/pool.png" align="middle"/></div><p>
    </p><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
      Each of the components in the pool architecture can be accessed by multiple threads at the
      same time, hence each component needs to make sure that thread safely is maintained.
    </div></div><div class="section" title="9.2. Public API"><div class="titlepage"><div><div><h2 class="title"><a id="pool_public"/>9.2. Public API</h2></div></div></div><p>
      The public API defines the API that programs external to the IronJacamar project can use to
      configure, and use the pool.
    </p><p>
      The <code class="code">Pool</code> interface allows access to the name of the pool, flushing connections, and
      verifying if a connection can be obtained from the pool.
    </p><p>
      The <code class="code">PoolConfiguration</code> class holds the configuration parameters for the pool.
    </p><p>
      The <code class="code">FlushMode</code> enum defines the different flush modes supported.
    </p><p>
      The <code class="code">PoolStatistics</code> interface defines the statistics available for a pool.
    </p><p>
      The package for the public API is <code class="code">org.jboss.jca.core.api.connectionmanager.pool</code>.
    </p></div><div class="section" title="9.3. Private API"><div class="titlepage"><div><div><h2 class="title"><a id="pool_private"/>9.3. Private API</h2></div></div></div><p>
      The private API defines the API that can be used internally IronJacamar to control the pool.
      The API extends the public API where it makes sense in order to provide a more uniform interface
      to the implementation.
    </p><p>
      The <code class="code">PoolFactory</code> class will create a <code class="code">Pool</code> based upon the passed in
      configuration.
    </p><p>
      The <code class="code">PoolStrategy</code> enum defines how the pool is split based on credential equallity.
    </p><p>
      The <code class="code">Pool</code> interface extends the public API with methods that should only be available
      from with IronJacamar such as getting a connection listener, returning a connection listener, and
      shutting down the pool.
    </p><p>
      The <code class="code">PrefillPool</code> interface defines the contract for pool implementations that supports
      prefilling of connections upon startup, such as <code class="code">OnePool</code> and <code class="code">PoolBySubject</code>.
    </p><p>
      The <code class="code">Capacity</code> interface provides a handle to the policies used for increasing and decreasing
      the pool.
    </p><p>
      The <code class="code">CapacityIncrementer</code> interface defines if a physical connection should be created
      given the input parameters.
    </p><p>
      The <code class="code">CapacityDecrementer</code> interface defines if a physical connection should be destroyed
      given the input parameters.
    </p><p>
      The package for the private API is <code class="code">org.jboss.jca.core.connectionmanager.pool.api</code>.
    </p></div><div class="section" title="9.4. Implementation"><div class="titlepage"><div><div><h2 class="title"><a id="pool_implementation"/>9.4. Implementation</h2></div></div></div><p>
      The pool implementation provides a concrete implementation of the contracts defined by the public and
      private APIs.
    </p><p>
      The package for the pool implementation is <code class="code">org.jboss.jca.core.connectionmanager.pool</code>.
    </p><div class="section" title="9.4.1. AbstractPool"><div class="titlepage"><div><div><h3 class="title"><a id="pool_implementation_abstractpool"/>9.4.1. AbstractPool</h3></div></div></div><p>
        <code class="code">AbstractPool</code> provides the methods that are shared across all pool implementations.
      </p><p>
        <code class="code">getKey(Subject, ConnectionRequestInfo, boolean)</code> defines the key used to lookup the
        <code class="code">ManagedConnectionPool</code> instance. The implementation of this method is different for each
        pool type.
      </p><p>
        <code class="code">getManagedConnectionPool(Object, Subject, ConnectionRequestInfo)</code> retrieves the correct
        <code class="code">ManagedConnectionPool</code> instance. If the <code class="code">ManagedConnectionPool</code> doesn't yet
        exists then one is created, and initialized.
      </p><p>
        <code class="code">emptyManagedConnectionPool(ManagedConnectionPool)</code> removes a
        <code class="code">ManagedConnectionPool</code> instance, if unused.
      </p><p>
        <code class="code">flush</code> flushes the <code class="code">ManagedConnectionPool</code> instances, based on the
        <code class="code">FlushMode</code>.
      </p><p>
        <code class="code">getConnection(Transaction, Subject, ConnectionRequestInfo)</code> returns a <code class="code">ConnectionListener</code> instance,
        which has the physical connection to the Enterprise Information System attached. The method uses 3 sub methods to return the
        correct listener instance. <code class="code">getSimpleConnection</code> returns a <code class="code">ConnectionListener</code> if there is no
        transaction associated. <code class="code">getTransactionOldConnection</code> returns the <code class="code">ConnectionListener</code> already associated
        with the transaction, if any. <code class="code">getTransactionNewConnection</code> creates a new <code class="code">ConnectionListener</code>, and associates
        it with the transaction.
      </p><p>
        <code class="code">findConnectionListener</code> finds a specific <code class="code">ConnectionListener</code> instance.
      </p><p>
        <code class="code">returnConnectionListener</code> returns a <code class="code">ConnectionListener</code> instance to the correct
        <code class="code">ManagedConnectionPool</code>.
      </p><p>
        <code class="code">shutdown</code> shuts down the pool.
      </p><p>
        <code class="code">internalTestConnection(ConnectionRequestInfo, Subject)</code> tries to obtain a <code class="code">ConnectionListener</code>
        based on the input given.
      </p></div><div class="section" title="9.4.2. AbstractPrefillPool"><div class="titlepage"><div><div><h3 class="title"><a id="pool_implementation_prefill"/>9.4.2. AbstractPrefillPool</h3></div></div></div><p>
        The <code class="code">AbstractPrefillPool</code> enables the pool to prefill connections during startup, and through its lifecycle.
      </p><p>
        <code class="code">prefill(Subject, ConnectionRequestInfo, boolean)</code> handles the prefilling process.
      </p></div><div class="section" title="9.4.3. Pool types"><div class="titlepage"><div><div><h3 class="title"><a id="pool_implementation_types"/>9.4.3. Pool types</h3></div></div></div><p>
        IronJacamar features 5 different pool types. Each pool type has its own <code class="code">getKey</code> method implementation that
        defines how a <code class="code">ManagedConnectionPool</code> instance is located.
      </p><p>
        <code class="code">OnePool</code> uses one <code class="code">ManagedConnectionPool</code> instance to hold all <code class="code">ConnectionListener</code>s.
      </p><p>
        <code class="code">PoolByCri</code> splits the <code class="code">ManagedConnectionPool</code> instances based on the <code class="code">ConnectionRequestInfo</code>
        instance.
      </p><p>
        <code class="code">PoolBySubject</code> splits the <code class="code">ManagedConnectionPool</code> instances based on the <code class="code">Subject</code>
        instance.
      </p><p>
        <code class="code">PoolBySubjectAndCri</code> splits the <code class="code">ManagedConnectionPool</code> instances based on both the
        <code class="code">ConnectionRequestInfo</code> instance and the <code class="code">Subject</code> instance.
      </p><p>
        <code class="code">ReauthPool</code> allows the <code class="code">ConnectionListener</code> instances to reauthenticate, so the
        <code class="code">ManagedConnectionPool</code> instances can change over time based on the <code class="code">ConnectionRequestInfo</code>
        and <code class="code">Subject</code> instances.
      </p><p>
        The package for the pool types is <code class="code">org.jboss.jca.core.connectionmanager.pool.strategy</code>.
      </p></div></div><div class="section" title="9.5. ManagedConnectionPool"><div class="titlepage"><div><div><h2 class="title"><a id="pool_mcp"/>9.5. ManagedConnectionPool</h2></div></div></div><p>
      The <code class="code">ManagedConnectionPool</code> controls the <code class="code">ConnectionListener</code> instances, which each has
      a physical connection (<code class="code">ManagedConnection</code>) associated.
    </p><p>
      The package is <code class="code">org.jboss.jca.core.connectionmanager.pool.mcp</code>
    </p><div class="section" title="9.5.1. Private API"><div class="titlepage"><div><div><h3 class="title"><a id="pool_mcp_private"/>9.5.1. Private API</h3></div></div></div><p>
        <code class="code">ManagedConnectionPool</code> instances should only be accessed from within IronJacamar, so they only have
        a private API.
      </p><p>
        The <code class="code">ManagedConnectionPoolFactory</code> class creates a <code class="code">ManagedConnectionPool</code> instance.
      </p><p>
        The <code class="code">ManagedConnectionPool</code> interface defines the methods exposed to the pool, connection validator, and
        idle remover. These methods includes getting a connection listener, finding a connection listener, and returning a
        connection listener.
      </p><p>
        The <code class="code">ManagedConnectionPoolStatistics</code> interface defines the statistics for the <code class="code">ManagedConnectionPool</code>
        instance.
      </p><p>
        The <code class="code">ManagedConnectionPoolUtility</code> class defines utility methods for the <code class="code">ManagedConnectionPool</code>
        instance.
      </p></div><div class="section" title="9.5.2. Implementation"><div class="titlepage"><div><div><h3 class="title"><a id="pool_mcp_implementation"/>9.5.2. Implementation</h3></div></div></div><p>
        There are three different implementations of the <code class="code">ManagedConnectionPool</code> interface. <code class="code">SemaphoreArrayListManagedConnectionPool</code>
        which uses a <code class="code">Semaphore</code> to guard an <code class="code">ArrayList</code> which holds the <code class="code">ConnectionListener</code>s.
        <code class="code">ArrayBlockingQueueManagedConnectionPool</code> which uses an <code class="code">ArrayBlockingQueue</code> to hold the <code class="code">ConnectionListener</code>s.
        And <code class="code">LeakDumperManagedConnectionPool</code> which extends <code class="code">SemaphoreArrayListManagedConnectionPool</code>, but reports any leaks upon
        shutdown.
      </p><p>
        <code class="code">getConnection(Subject, ConnectionRequestInfo)</code> provides a <code class="code">ConnectionListener</code>. The method requires a lock in order to
        obtain a listener, using the specified timeout value. If a listener is avaiable in the pool then it is matched against the <code class="code">ManagedConnectionFactory</code>
        to verify it is valid, and returned - otherwise it is destroyed. If no listener is available then a new listener is created and returned. In the latter case
        both prefill and a capacity increase is scheduled in order to prefill to the minimum size, and increase the pool by the specified capacity policy.
      </p><p>
        <code class="code">returnConnection(ConnectionListener, boolean, boolean)</code> returns a <code class="code">ConnectionListener</code> into the pool.
      </p><p>
        <code class="code">flush(FlushMode)</code> flushes the <code class="code">ConnectionListener</code>s according to the mode. Any listeners marked as bad will be destroyed.
        Prefill is scheduled at the end in order to maintain the minimum pool size.
      </p><p>
        <code class="code">removeIdleConnections</code> is invoked from the idle remover in order to decrement the pool to the desired size based on the <code class="code">CapacityDecrementer</code>
        policy. If any listeners are destroyed the pool is either scheduled for prefill, or for removal through <code class="code">emptyManagedConnectionPool</code> if empty.
      </p><p>
        <code class="code">shutdown</code> shuts the instance down. All listeners are removed.
      </p><p>
        <code class="code">fillTo(int)</code> fills the pool to the specified size. The pool filler component uses this method.
      </p><p>
        <code class="code">increaseCapacity(Subject, ConnectionRequestInfo)</code> increases the pool based on the <code class="code">CapacityIncrementer</code> policy. The capacity filler component
        uses this method.
      </p><p>
        <code class="code">validateConnections</code> validates that the listeners are valid according to <code class="code">ValidatingManagedConnectionFactory</code>. Any invalid listeners are destroyed
        and prefill scheduled. The connection validator component uses this method.
      </p><p>
        <code class="code">detachConnectionListener</code> disassociates the connections attached to the <code class="code">ManagedConnection</code> such that it can be reused in another request through
        <code class="code">DissociatableManagedConnection</code>.
      </p></div></div></div><div class="chapter" title="Chapter 10. Standalone"><div class="titlepage"><div><div><h2 class="title"><a id="standalone"/>Chapter 10. Standalone</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#standaloneoverview">10.1. Overview</a></span></dt><dt><span class="section"><a href="#jcasjc">10.2. IronJacamar/SJC</a></span></dt></dl></div><div class="section" title="10.1. Overview"><div class="titlepage"><div><div><h2 class="title"><a id="standaloneoverview"/>10.1. Overview</h2></div></div></div><p>The standalone IronJacamar container implements Chapter 3 Section 5 of the 
      JCA 1.6 specification which defines a standalone JCA environment.</p><p>The standalone container has the following layout:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/bin/</code><p>contains the run scripts and the SJC kernel.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/config/</code><p>contains the configuration of the container.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/deploy/</code><p>contains the user deployments.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/doc/</code><p>contains the documentation.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/lib/</code><p>contains all the libraries used by the container.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/log/</code><p>contains the log files.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/system/</code><p>contains system deployments files.</p></li><li class="listitem"><code class="code">$IRON_JACAMAR_HOME/tmp/</code><p>contains temporary files.</p></li></ul></div><p>To start the container execute the following</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">
cd $IRON_JACAMAR_HOME/bin
./run.sh
      </pre><p>.</p></div><div class="section" title="10.2. IronJacamar/SJC"><div class="titlepage"><div><div><h2 class="title"><a id="jcasjc"/>10.2. IronJacamar/SJC</h2></div></div></div><div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
      This standalone configuration is for development purposes only.
    </div><p>The IronJacamar/SJC uses the Fungal kernel for its run-time environment.</p><p>The homepage for the Fungal is <a class="ulink" href="http://jesperpedersen.github.com/fungal">http://jesperpedersen.github.com/fungal</a></p>.

    <p>SJC is short for "Simple JCA Container".</p></div></div><div class="appendix" title="Appendix A. Licenses"><div class="titlepage"><div><div><h2 class="title"><a id="licenses"/>Appendix A. Licenses</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#lgpl">A.1. GNU Lesser General Public License 2.1</a></span></dt><dd><dl><dt><span class="section"><a href="#lgpl-1">A.1.1. Preamble</a></span></dt><dt><span class="section"><a href="#lgpl-2">A.1.2. Terms and Conditions for Copying, Distribution and Modification</a></span></dt><dt><span class="section"><a href="#lgpl-3">A.1.3. How to Apply These Terms to Your New Libraries</a></span></dt></dl></dd><dt><span class="section"><a href="#CC-BY-SA">A.2. Creative Commons Attribution–Share Alike 3.0 Unported License</a></span></dt><dd><dl><dt><span class="section"><a href="#CC-BY-SA-Definitions">A.2.1. Definitions</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-FairDealingRights">A.2.2. Fair Dealing Rights</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-LicenseGrant">A.2.3. License Grant</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Restrictions">A.2.4. Restrictions</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-RepresentationsWarrantiesandDisclaimer">A.2.5. Representations, Warranties and Disclaimer</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Termination">A.2.6. Termination</a></span></dt><dt><span class="section"><a href="#CC-BY-SA-Miscellaneous">A.2.7. Miscellaneous</a></span></dt></dl></dd><dt><span class="section"><a href="#ApacheLicense">A.3. Apache License, Version 2.0</a></span></dt><dd><dl><dt><span class="section"><a href="#ApacheLicense-Definitions">A.3.1. Definitions</a></span></dt><dt><span class="section"><a href="#ApacheLicense-GrantofCopyrightLicense">A.3.2. Grant of Copyright License</a></span></dt><dt><span class="section"><a href="#ApacheLicense-GrantofPatentLicense">A.3.3. Grant of Patent License</a></span></dt><dt><span class="section"><a href="#ApacheLicense-Redistribution">A.3.4. Redistribution</a></span></dt><dt><span class="section"><a href="#ApacheLicense-SubmissionofContributions">A.3.5. Submission of Contributions</a></span></dt><dt><span class="section"><a href="#ApacheLicense-Trademarks">A.3.6. Trademarks</a></span></dt><dt><span class="section"><a href="#ApacheLicense-DisclaimerofWarranty">A.3.7. Disclaimer of Warranty</a></span></dt><dt><span class="section"><a href="#ApacheLicense-LimitationofLiability">A.3.8. Limitation of Liability</a></span></dt><dt><span class="section"><a href="#ApacheLicense-AcceptingWarrantyorAdditionalLiability">A.3.9. Accepting Warranty or Additional Liability</a></span></dt></dl></dd></dl></div><p>All licenses can be found in the <code class="code">doc/licenses</code> directory.</p><div class="section" title="A.1. GNU Lesser General Public License 2.1"><div class="titlepage"><div><div><h2 class="title"><a id="lgpl"/>A.1. GNU Lesser General Public License 2.1</h2></div></div></div><p>GNU LESSER GENERAL PUBLIC LICENSE</p><p>Version 2.1, February 1999</p><p>Copyright (C) 1991, 1999 Free Software Foundation, Inc.
  51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
  Everyone is permitted to copy and distribute verbatim copies
  of this license document, but changing it is not allowed.</p><p>[This is the first released version of the Lesser GPL.  It also counts
  as the successor of the GNU Library Public License, version 2, hence
  the version number 2.1.]</p><div class="section" title="A.1.1. Preamble"><div class="titlepage"><div><div><h3 class="title"><a id="lgpl-1"/>A.1.1. Preamble</h3></div></div></div><p>The licenses for most software are designed to take away your
    freedom to share and change it.  By contrast, the GNU General Public
    Licenses are intended to guarantee your freedom to share and change
    free software--to make sure the software is free for all its users.</p><p>This license, the Lesser General Public License, applies to some
    specially designated software packages--typically libraries--of the
    Free Software Foundation and other authors who decide to use it.  You
    can use it too, but we suggest you first think carefully about whether
    this license or the ordinary General Public License is the better
    strategy to use in any particular case, based on the explanations below.</p><p>When we speak of free software, we are referring to freedom of use,
    not price.  Our General Public Licenses are designed to make sure that
    you have the freedom to distribute copies of free software (and charge
    for this service if you wish); that you receive source code or can get
    it if you want it; that you can change the software and use pieces of
    it in new free programs; and that you are informed that you can do
    these things.</p><p>To protect your rights, we need to make restrictions that forbid
    distributors to deny you these rights or to ask you to surrender these
    rights.  These restrictions translate to certain responsibilities for
    you if you distribute copies of the library or if you modify it.</p><p>For example, if you distribute copies of the library, whether gratis
    or for a fee, you must give the recipients all the rights that we gave
    you.  You must make sure that they, too, receive or can get the source
    code.  If you link other code with the library, you must provide
    complete object files to the recipients, so that they can relink them
    with the library after making changes to the library and recompiling
    it.  And you must show them these terms so they know their rights.</p><p>We protect your rights with a two-step method:
      </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>we copyright the library, and</p></li><li class="listitem"><p>we offer you this license, which gives you legal
          permission to copy, distribute and/or modify the library.</p></li></ol></div><p>
    </p><p>To protect each distributor, we want to make it very clear that
    there is no warranty for the free library.  Also, if the library is
    modified by someone else and passed on, the recipients should know
    that what they have is not the original version, so that the original
    author's reputation will not be affected by problems that might be
    introduced by others.</p><p>Finally, software patents pose a constant threat to the existence of
    any free program.  We wish to make sure that a company cannot
    effectively restrict the users of a free program by obtaining a
    restrictive license from a patent holder.  Therefore, we insist that
    any patent license obtained for a version of the library must be
    consistent with the full freedom of use specified in this license.</p><p>Most GNU software, including some libraries, is covered by the
    ordinary GNU General Public License.  This license, the GNU Lesser
    General Public License, applies to certain designated libraries, and
    is quite different from the ordinary General Public License.  We use
    this license for certain libraries in order to permit linking those
    libraries into non-free programs.</p><p>When a program is linked with a library, whether statically or using
    a shared library, the combination of the two is legally speaking a
    combined work, a derivative of the original library.  The ordinary
    General Public License therefore permits such linking only if the
    entire combination fits its criteria of freedom.  The Lesser General
    Public License permits more lax criteria for linking other code with
    the library.</p><p>We call this license the <span class="emphasis"><em>Lesser</em></span> General Public License because it
    does Less to protect the user's freedom than the ordinary General
    Public License.  It also provides other free software developers Less
    of an advantage over competing non-free programs.  These disadvantages
    are the reason we use the ordinary General Public License for many
    libraries.  However, the Lesser license provides advantages in certain
    special circumstances.</p><p>For example, on rare occasions, there may be a special need to
    encourage the widest possible use of a certain library, so that it becomes
    a de-facto standard.  To achieve this, non-free programs must be
    allowed to use the library.  A more frequent case is that a free
    library does the same job as widely used non-free libraries.  In this
    case, there is little to gain by limiting the free library to free
    software only, so we use the Lesser General Public License.</p><p>In other cases, permission to use a particular library in non-free
    programs enables a greater number of people to use a large body of
    free software.  For example, permission to use the GNU C Library in
    non-free programs enables many more people to use the whole GNU
    operating system, as well as its variant, the GNU/Linux operating
    system.</p><p>Although the Lesser General Public License is Less protective of the
    users' freedom, it does ensure that the user of a program that is
    linked with the Library has the freedom and the wherewithal to run
    that program using a modified version of the Library.</p><p>The precise terms and conditions for copying, distribution and
    modification follow.  Pay close attention to the difference between a
    <span class="quote">“<span class="quote">work based on the library</span>”</span> and a <span class="quote">“<span class="quote">work that uses the library</span>”</span>.  The
    former contains code derived from the library, whereas the latter must
    be combined with the library in order to run.</p></div><div class="section" title="A.1.2. Terms and Conditions for Copying, Distribution and Modification"><div class="titlepage"><div><div><h3 class="title"><a id="lgpl-2"/>A.1.2. Terms and Conditions for Copying, Distribution and Modification</h3></div></div></div><div class="section" title="A.1.2.1. Section 0"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-0"/>A.1.2.1. Section 0</h4></div></div></div><p>This License Agreement applies to any software library or other
      program which contains a notice placed by the copyright holder or
      other authorized party saying it may be distributed under the terms of
      this Lesser General Public License (also called <span class="quote">“<span class="quote">this License</span>”</span>).
      Each licensee is addressed as <span class="quote">“<span class="quote">you</span>”</span>.</p><p>A <span class="quote">“<span class="quote">library</span>”</span> means a collection of software functions and/or data
      prepared so as to be conveniently linked with application programs
      (which use some of those functions and data) to form executables.</p><p>The <span class="quote">“<span class="quote">Library</span>”</span>, below, refers to any such software library or work
      which has been distributed under these terms.  A <span class="quote">“<span class="quote">work based on the
      Library</span>”</span> means either the Library or any derivative work under
      copyright law: that is to say, a work containing the Library or a
      portion of it, either verbatim or with modifications and/or translated
      straightforwardly into another language.  (Hereinafter, translation is
      included without limitation in the term <span class="quote">“<span class="quote">modification</span>”</span>.)</p><p><span class="quote">“<span class="quote">Source code</span>”</span> for a work means the preferred form of the work for
      making modifications to it.  For a library, complete source code means
      all the source code for all modules it contains, plus any associated
      interface definition files, plus the scripts used to control compilation
      and installation of the library.</p><p>Activities other than copying, distribution and modification are not
      covered by this License; they are outside its scope.  The act of
      running a program using the Library is not restricted, and output from
      such a program is covered only if its contents constitute a work based
      on the Library (independent of the use of the Library in a tool for
      writing it).  Whether that is true depends on what the Library does
      and what the program that uses the Library does.</p></div><div class="section" title="A.1.2.2. Section 1"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-1"/>A.1.2.2. Section 1</h4></div></div></div><p>You may copy and distribute verbatim copies of the Library's
      complete source code as you receive it, in any medium, provided that
      you conspicuously and appropriately publish on each copy an
      appropriate copyright notice and disclaimer of warranty; keep intact
      all the notices that refer to this License and to the absence of any
      warranty; and distribute a copy of this License along with the
      Library.</p><p>You may charge a fee for the physical act of transferring a copy,
      and you may at your option offer warranty protection in exchange for a
      fee.</p></div><div class="section" title="A.1.2.3. Section 2"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-2"/>A.1.2.3. Section 2</h4></div></div></div><p>You may modify your copy or copies of the Library or any portion
      of it, thus forming a work based on the Library, and copy and
      distribute such modifications or work under the terms of <a class="link" href="#lgpl-2-1" title="A.1.2.2. Section 1">Section 1</a>
      above, provided that you also meet all of these conditions:
      </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>The modified work must itself be a software library.</p></li><li class="listitem"><p>You must cause the files modified to carry prominent notices
          stating that you changed the files and the date of any change.</p></li><li class="listitem"><p>You must cause the whole of the work to be licensed at no
          charge to all third parties under the terms of this License.</p></li><li class="listitem"><p><a id="lgpl-2-2-d"/>If a facility in the modified Library refers to a function or a
          table of data to be supplied by an application program that uses
          the facility, other than as an argument passed when the facility
          is invoked, then you must make a good faith effort to ensure that,
          in the event an application does not supply such function or
          table, the facility still operates, and performs whatever part of
          its purpose remains meaningful.</p><p>(For example, a function in a library to compute square roots has
          a purpose that is entirely well-defined independent of the
          application.  Therefore, <a class="link" href="#lgpl-2-2-d">Subsection 2d</a> requires that any
          application-supplied function or table used by this function must
          be optional: if the application does not supply it, the square
          root function must still compute square roots.)</p></li></ol></div><p>
      </p><p>These requirements apply to the modified work as a whole.  If
      identifiable sections of that work are not derived from the Library,
      and can be reasonably considered independent and separate works in
      themselves, then this License, and its terms, do not apply to those
      sections when you distribute them as separate works.  But when you
      distribute the same sections as part of a whole which is a work based
      on the Library, the distribution of the whole must be on the terms of
      this License, whose permissions for other licensees extend to the
      entire whole, and thus to each and every part regardless of who wrote
      it.</p><p>Thus, it is not the intent of this section to claim rights or contest
      your rights to work written entirely by you; rather, the intent is to
      exercise the right to control the distribution of derivative or
      collective works based on the Library.</p><p>In addition, mere aggregation of another work not based on the Library
      with the Library (or with a work based on the Library) on a volume of
      a storage or distribution medium does not bring the other work under
      the scope of this License.</p></div><div class="section" title="A.1.2.4. Section 3"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-3"/>A.1.2.4. Section 3</h4></div></div></div><p>You may opt to apply the terms of the ordinary GNU General Public
      License instead of this License to a given copy of the Library.  To do
      this, you must alter all the notices that refer to this License, so
      that they refer to the ordinary GNU General Public License, version 2,
      instead of to this License.  (If a newer version than version 2 of the
      ordinary GNU General Public License has appeared, then you can specify
      that version instead if you wish.)  Do not make any other change in
      these notices.</p><p>Once this change is made in a given copy, it is irreversible for
      that copy, so the ordinary GNU General Public License applies to all
      subsequent copies and derivative works made from that copy.</p><p>This option is useful when you wish to copy part of the code of
      the Library into a program that is not a library.</p></div><div class="section" title="A.1.2.5. Section 4"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-4"/>A.1.2.5. Section 4</h4></div></div></div><p>You may copy and distribute the Library (or a portion or
      derivative of it, under <a class="link" href="#lgpl-2-2" title="A.1.2.3. Section 2">Section 2</a>) in object code or executable form
      under the terms of <a class="link" href="#lgpl-2-1" title="A.1.2.2. Section 1">Sections 1</a> and <a class="link" href="#lgpl-2-2" title="A.1.2.3. Section 2">2</a> above provided that you accompany
      it with the complete corresponding machine-readable source code, which
      must be distributed under the terms of <a class="link" href="#lgpl-2-1" title="A.1.2.2. Section 1">Sections 1</a> and <a class="link" href="#lgpl-2-2" title="A.1.2.3. Section 2">2</a> above on a
      medium customarily used for software interchange.</p><p>If distribution of object code is made by offering access to copy
      from a designated place, then offering equivalent access to copy the
      source code from the same place satisfies the requirement to
      distribute the source code, even though third parties are not
      compelled to copy the source along with the object code.</p></div><div class="section" title="A.1.2.6. Section 5"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-5"/>A.1.2.6. Section 5</h4></div></div></div><p>A program that contains no derivative of any portion of the
      Library, but is designed to work with the Library by being compiled or
      linked with it, is called a <span class="quote">“<span class="quote">work that uses the Library</span>”</span>.  Such a
      work, in isolation, is not a derivative work of the Library, and
      therefore falls outside the scope of this License.</p><p>However, linking a <span class="quote">“<span class="quote">work that uses the Library</span>”</span> with the Library
      creates an executable that is a derivative of the Library (because it
      contains portions of the Library), rather than a <span class="quote">“<span class="quote">work that uses the
      library</span>”</span>.  The executable is therefore covered by this License.
      <a class="link" href="#lgpl-2-6" title="A.1.2.7. Section 6">Section 6</a> states terms for distribution of such executables.</p><p>When a <span class="quote">“<span class="quote">work that uses the Library</span>”</span> uses material from a header file
      that is part of the Library, the object code for the work may be a
      derivative work of the Library even though the source code is not.
      Whether this is true is especially significant if the work can be
      linked without the Library, or if the work is itself a library.  The
      threshold for this to be true is not precisely defined by law.</p><p>If such an object file uses only numerical parameters, data
      structure layouts and accessors, and small macros and small inline
      functions (ten lines or less in length), then the use of the object
      file is unrestricted, regardless of whether it is legally a derivative
      work.  (Executables containing this object code plus portions of the
      Library will still fall under <a class="link" href="#lgpl-2-6" title="A.1.2.7. Section 6">Section 6</a>.)</p><p>Otherwise, if the work is a derivative of the Library, you may
      distribute the object code for the work under the terms of <a class="link" href="#lgpl-2-6" title="A.1.2.7. Section 6">Section 6</a>.
      Any executables containing that work also fall under <a class="link" href="#lgpl-2-6" title="A.1.2.7. Section 6">Section 6</a>,
      whether or not they are linked directly with the Library itself.</p></div><div class="section" title="A.1.2.7. Section 6"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-6"/>A.1.2.7. Section 6</h4></div></div></div><p>As an exception to the Sections above, you may also combine or
      link a <span class="quote">“<span class="quote">work that uses the Library</span>”</span> with the Library to produce a
      work containing portions of the Library, and distribute that work
      under terms of your choice, provided that the terms permit
      modification of the work for the customer's own use and reverse
      engineering for debugging such modifications.</p><p>You must give prominent notice with each copy of the work that the
      Library is used in it and that the Library and its use are covered by
      this License.  You must supply a copy of this License.  If the work
      during execution displays copyright notices, you must include the
      copyright notice for the Library among them, as well as a reference
      directing the user to the copy of this License.  Also, you must do one
      of these things:
      </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p><a id="lgpl-2-6-a"/>Accompany the work with the complete corresponding
          machine-readable source code for the Library including whatever
          changes were used in the work (which must be distributed under
          <a class="link" href="#lgpl-2-1" title="A.1.2.2. Section 1">Sections 1</a> and <a class="link" href="#lgpl-2-2" title="A.1.2.3. Section 2">2</a> above); and, if the work is an executable linked
          with the Library, with the complete machine-readable <span class="quote">“<span class="quote">work that
          uses the Library</span>”</span>, as object code and/or source code, so that the
          user can modify the Library and then relink to produce a modified
          executable containing the modified Library.  (It is understood
          that the user who changes the contents of definitions files in the
          Library will not necessarily be able to recompile the application
          to use the modified definitions.)</p></li><li class="listitem"><p>Use a suitable shared library mechanism for linking with the
          Library.  A suitable mechanism is one that (1) uses at run time a
          copy of the library already present on the user's computer system,
          rather than copying library functions into the executable, and (2)
          will operate properly with a modified version of the library, if
          the user installs one, as long as the modified version is
          interface-compatible with the version that the work was made with.</p></li><li class="listitem"><p>Accompany the work with a written offer, valid for at
          least three years, to give the same user the materials
          specified in <a class="link" href="#lgpl-2-6-a">Subsection 6a</a>, above, for a charge no more
          than the cost of performing this distribution.</p></li><li class="listitem"><p>If distribution of the work is made by offering access to copy
          from a designated place, offer equivalent access to copy the above
          specified materials from the same place.</p></li><li class="listitem"><p>Verify that the user has already received a copy of these
          materials or that you have already sent this user a copy.</p></li></ol></div><p>
      </p><p>For an executable, the required form of the <span class="quote">“<span class="quote">work that uses the
      Library</span>”</span> must include any data and utility programs needed for
      reproducing the executable from it.  However, as a special exception,
      the materials to be distributed need not include anything that is
      normally distributed (in either source or binary form) with the major
      components (compiler, kernel, and so on) of the operating system on
      which the executable runs, unless that component itself accompanies
      the executable.</p><p>It may happen that this requirement contradicts the license
      restrictions of other proprietary libraries that do not normally
      accompany the operating system.  Such a contradiction means you cannot
      use both them and the Library together in an executable that you
      distribute.</p></div><div class="section" title="A.1.2.8. Section 7"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-7"/>A.1.2.8. Section 7</h4></div></div></div><p>You may place library facilities that are a work based on the
      Library side-by-side in a single library together with other library
      facilities not covered by this License, and distribute such a combined
      library, provided that the separate distribution of the work based on
      the Library and of the other library facilities is otherwise
      permitted, and provided that you do these two things:
      </p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Accompany the combined library with a copy of the same work
          based on the Library, uncombined with any other library
          facilities.  This must be distributed under the terms of the
          Sections above.</p></li><li class="listitem"><p>Give prominent notice with the combined library of the fact
          that part of it is a work based on the Library, and explaining
          where to find the accompanying uncombined form of the same work.</p></li></ol></div><p>
      </p></div><div class="section" title="A.1.2.9. Section 8"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-8"/>A.1.2.9. Section 8</h4></div></div></div><p>You may not copy, modify, sublicense, link with, or distribute
      the Library except as expressly provided under this License.  Any
      attempt otherwise to copy, modify, sublicense, link with, or
      distribute the Library is void, and will automatically terminate your
      rights under this License.  However, parties who have received copies,
      or rights, from you under this License will not have their licenses
      terminated so long as such parties remain in full compliance.</p></div><div class="section" title="A.1.2.10. Section 9"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-9"/>A.1.2.10. Section 9</h4></div></div></div><p>You are not required to accept this License, since you have not
      signed it.  However, nothing else grants you permission to modify or
      distribute the Library or its derivative works.  These actions are
      prohibited by law if you do not accept this License.  Therefore, by
      modifying or distributing the Library (or any work based on the
      Library), you indicate your acceptance of this License to do so, and
      all its terms and conditions for copying, distributing or modifying
      the Library or works based on it.</p></div><div class="section" title="A.1.2.11. Section 10"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-10"/>A.1.2.11. Section 10</h4></div></div></div><p>Each time you redistribute the Library (or any work based on the
      Library), the recipient automatically receives a license from the
      original licensor to copy, distribute, link with or modify the Library
      subject to these terms and conditions.  You may not impose any further
      restrictions on the recipients' exercise of the rights granted herein.
      You are not responsible for enforcing compliance by third parties with
      this License.</p></div><div class="section" title="A.1.2.12. Section 11"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-11"/>A.1.2.12. Section 11</h4></div></div></div><p>If, as a consequence of a court judgment or allegation of patent
      infringement or for any other reason (not limited to patent issues),
      conditions are imposed on you (whether by court order, agreement or
      otherwise) that contradict the conditions of this License, they do not
      excuse you from the conditions of this License.  If you cannot
      distribute so as to satisfy simultaneously your obligations under this
      License and any other pertinent obligations, then as a consequence you
      may not distribute the Library at all.  For example, if a patent
      license would not permit royalty-free redistribution of the Library by
      all those who receive copies directly or indirectly through you, then
      the only way you could satisfy both it and this License would be to
      refrain entirely from distribution of the Library.</p><p>If any portion of this section is held invalid or unenforceable under any
      particular circumstance, the balance of the section is intended to apply,
      and the section as a whole is intended to apply in other circumstances.</p><p>It is not the purpose of this section to induce you to infringe any
      patents or other property right claims or to contest validity of any
      such claims; this section has the sole purpose of protecting the
      integrity of the free software distribution system which is
      implemented by public license practices.  Many people have made
      generous contributions to the wide range of software distributed
      through that system in reliance on consistent application of that
      system; it is up to the author/donor to decide if he or she is willing
      to distribute software through any other system and a licensee cannot
      impose that choice.</p><p>This section is intended to make thoroughly clear what is believed to
      be a consequence of the rest of this License.</p></div><div class="section" title="A.1.2.13. Section 12"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-12"/>A.1.2.13. Section 12</h4></div></div></div><p>If the distribution and/or use of the Library is restricted in
      certain countries either by patents or by copyrighted interfaces, the
      original copyright holder who places the Library under this License may add
      an explicit geographical distribution limitation excluding those countries,
      so that distribution is permitted only in or among countries not thus
      excluded.  In such case, this License incorporates the limitation as if
      written in the body of this License.</p></div><div class="section" title="A.1.2.14. Section 13"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-13"/>A.1.2.14. Section 13</h4></div></div></div><p>The Free Software Foundation may publish revised and/or new
      versions of the Lesser General Public License from time to time.
      Such new versions will be similar in spirit to the present version,
      but may differ in detail to address new problems or concerns.</p><p>Each version is given a distinguishing version number.  If the Library
      specifies a version number of this License which applies to it and
      <span class="quote">“<span class="quote">any later version</span>”</span>, you have the option of following the terms and
      conditions either of that version or of any later version published by
      the Free Software Foundation.  If the Library does not specify a
      license version number, you may choose any version ever published by
      the Free Software Foundation.</p></div><div class="section" title="A.1.2.15. Section 14"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-14"/>A.1.2.15. Section 14</h4></div></div></div><p>If you wish to incorporate parts of the Library into other free
      programs whose distribution conditions are incompatible with these,
      write to the author to ask for permission.  For software which is
      copyrighted by the Free Software Foundation, write to the Free
      Software Foundation; we sometimes make exceptions for this.  Our
      decision will be guided by the two goals of preserving the free status
      of all derivatives of our free software and of promoting the sharing
      and reuse of software generally.</p></div><div class="section" title="A.1.2.16. NO WARRANTY Section 15"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-15"/>A.1.2.16. NO WARRANTY Section 15</h4></div></div></div><p>BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
      WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.
      EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
      OTHER PARTIES PROVIDE THE LIBRARY <span class="quote">“<span class="quote">AS IS</span>”</span> WITHOUT WARRANTY OF ANY
      KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
      IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
      PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
      LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
      THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.</p></div><div class="section" title="A.1.2.17. Section 16"><div class="titlepage"><div><div><h4 class="title"><a id="lgpl-2-16"/>A.1.2.17. Section 16</h4></div></div></div><p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
      WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
      AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
      FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
      CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
      LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
      RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
      FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
      SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGES.</p><p>END OF TERMS AND CONDITIONS</p></div></div><div class="section" title="A.1.3. How to Apply These Terms to Your New Libraries"><div class="titlepage"><div><div><h3 class="title"><a id="lgpl-3"/>A.1.3. How to Apply These Terms to Your New Libraries</h3></div></div></div><p>If you develop a new library, and you want it to be of the greatest
    possible use to the public, we recommend making it free software that
    everyone can redistribute and change.  You can do so by permitting
    redistribution under these terms (or, alternatively, under the terms of the
    ordinary General Public License).</p><p>To apply these terms, attach the following notices to the library.  It is
    safest to attach them to the start of each source file to most effectively
    convey the exclusion of warranty; and each file should have at least the
    <span class="quote">“<span class="quote">copyright</span>”</span> line and a pointer to where the full notice is found.</p><p>&lt;one line to give the library's name and a brief idea of what it does.&gt;
    Copyright (C) &lt;year&gt;  &lt;name of author&gt;</p><p>This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.</p><p>This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.</p><p>You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</p><p>Also add information on how to contact you by electronic and paper mail.</p><p>You should also get your employer (if you work as a programmer) or your
    school, if any, to sign a <span class="quote">“<span class="quote">copyright disclaimer</span>”</span> for the library, if
    necessary.  Here is a sample; alter the names:</p><p>Yoyodyne, Inc., hereby disclaims all copyright interest in the
    library `Frob' (a library for tweaking knobs) written by James Random Hacker.</p><p>&lt;signature of Ty Coon&gt;, 1 April 1990
    Ty Coon, President of Vice</p><p>That's all there is to it!</p></div></div><div class="section" title="A.2. Creative Commons Attribution–Share Alike 3.0 Unported License"><div class="titlepage"><div><div><h2 class="title"><a id="CC-BY-SA"/>A.2. Creative Commons Attribution–Share Alike 3.0 Unported License</h2></div></div></div><p>THE WORK (AS DEFINED BELOW) IS PROVIDED UNDER THE TERMS OF THIS CREATIVE 
    COMMONS PUBLIC LICENSE ("CCPL" OR "LICENSE"). THE WORK IS PROTECTED BY COPYRIGHT 
    AND/OR OTHER APPLICABLE LAW. ANY USE OF THE WORK OTHER THAN AS AUTHORIZED UNDER 
    THIS LICENSE OR COPYRIGHT LAW IS PROHIBITED.</p><p>BY EXERCISING ANY RIGHTS TO THE WORK PROVIDED HERE, YOU ACCEPT AND AGREE 
    TO BE BOUND BY THE TERMS OF THIS LICENSE. TO THE EXTENT THIS LICENSE MAY BE CONSIDERED
    TO BE A CONTRACT, THE LICENSOR GRANTS YOU THE RIGHTS CONTAINED HERE IN CONSIDERATION 
    OF YOUR ACCEPTANCE OF SUCH TERMS AND CONDITIONS.</p><div class="section" title="A.2.1. Definitions"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-Definitions"/>A.2.1. Definitions</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            <span class="emphasis"><em>"Adaptation"</em></span> means a work based upon the Work, or upon the Work and other 
            pre-existing works, such as a translation, adaptation, derivative work, arrangement 
            of music or other alterations of a literary or artistic work, or phonogram or performance
            and includes cinematographic adaptations or any other form in which the Work may be recast,
            transformed, or adapted including in any form recognizably derived from the original, 
            except that a work that constitutes a Collection will not be considered an Adaptation for
            the purpose of this License. For the avoidance of doubt, where the Work is a musical work,
            performance or phonogram, the synchronization of the Work in timed-relation with a moving
            image ("synching") will be considered an Adaptation for the purpose of this License.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Collection"</em></span> means a collection of literary or artistic works, such as encyclopedias and
            anthologies, or performances, phonograms or broadcasts, or other works or subject matter
            other than works listed in Section 1(f) below, which, by reason of the selection and
            arrangement of their contents, constitute intellectual creations, in which the Work is
            included in its entirety in unmodified form along with one or more other contributions,
            each constituting separate and independent works in themselves, which together are assembled 
            into a collective whole. A work that constitutes a Collection will not be considered an Adaptation
            (as defined below) for the purposes of this License.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Creative Commons Compatible License"</em></span> means a license that is listed at
            http://creativecommons.org/compatiblelicenses that has been approved by Creative Commons as being
            essentially equivalent to this License, including, at a minimum, because that license: 
            (i) contains terms that have the same purpose, meaning and effect as the License Elements of
            this License; and, (ii) explicitly permits the relicensing of adaptations of works made available 
            under that license under this License or a Creative Commons jurisdiction license with the same
            License Elements as this License.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Distribute"</em></span> means to make available to the public the original and copies of the Work or 
            Adaptation, as appropriate, through sale or other transfer of ownership.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"License Elements"</em></span> means the following high-level license attributes as selected by Licensor
            and indicated in the title of this License: Attribution, ShareAlike.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Licensor"</em></span> means the individual, individuals, entity or entities that offer(s) the Work under the
            terms of this License.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Original Author"</em></span> means, in the case of a literary or artistic work, the individual, individuals, 
            entity or entities who created the Work or if no individual or entity can be identified, the publisher; 
            and in addition (i) in the case of a performance the actors, singers, musicians, dancers, and other 
            persons who act, sing, deliver, declaim, play in, interpret or otherwise perform literary or artistic
            works or expressions of folklore; (ii) in the case of a phonogram the producer being the person or legal
            entity who first fixes the sounds of a performance or other sounds; and, (iii) in the case of broadcasts, 
            the organization that transmits the broadcast.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Work"</em></span> means the literary and/or artistic work offered under the terms of this License including without
            limitation any production in the literary, scientific and artistic domain, whatever may be the mode or
            form of its expression including digital form, such as a book, pamphlet and other writing; a lecture,
            address, sermon or other work of the same nature; a dramatic or dramatico-musical work; a choreographic
            work or entertainment in dumb show; a musical composition with or without words; a cinematographic work
            to which are assimilated works expressed by a process analogous to cinematography; a work of drawing, 
            painting, architecture, sculpture, engraving or lithography; a photographic work to which are assimilated
            works expressed by a process analogous to photography; a work of applied art; an illustration, map, plan,
            sketch or three-dimensional work relative to geography, topography, architecture or science; a performance; 
            a broadcast; a phonogram; a compilation of data to the extent it is protected as a copyrightable work; 
            or a work performed by a variety or circus performer to the extent it is not otherwise considered a
            literary or artistic work.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"You"</em></span> means an individual or entity exercising rights under this License who has not previously violated 
            the terms of this License with respect to the Work, or who has received express permission from the
            Licensor to exercise rights under this License despite a previous violation.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Publicly Perform"</em></span> means to perform public recitations of the Work and to communicate to the public those
            public recitations, by any means or process, including by wire or wireless means or public digital
            performances; to make available to the public Works in such a way that members of the public may access
            these Works from a place and at a place individually chosen by them; to perform the Work to the public
            by any means or process and the communication to the public of the performances of the Work, including 
            by public digital performance; to broadcast and rebroadcast the Work by any means including signs, sounds or images.
          </p></li><li class="listitem"><p>
            <span class="emphasis"><em>"Reproduce"</em></span> means to make copies of the Work by any means including without limitation by sound or visual 
            recordings and the right of fixation and reproducing fixations of the Work, including storage of a
            protected performance or phonogram in digital form or other electronic medium.
          </p></li></ol></div></div><div class="section" title="A.2.2. Fair Dealing Rights"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-FairDealingRights"/>A.2.2. Fair Dealing Rights</h3></div></div></div><p>Nothing in this License is intended to reduce, limit, or restrict any uses free from copyright or rights 
      arising from limitations or exceptions that are provided for in connection with the copyright protection under
      copyright law or other applicable laws.</p></div><div class="section" title="A.2.3. License Grant"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-LicenseGrant"/>A.2.3. License Grant</h3></div></div></div><p>Subject to the terms and conditions of this License, Licensor hereby grants You a worldwide,
      royalty-free, non-exclusive, perpetual (for the duration of the applicable copyright) license to exercise
      the rights in the Work as stated below:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            to Reproduce the Work, to incorporate the Work into one or more Collections, and to Reproduce 
            the Work as incorporated in the Collections;
          </p></li><li class="listitem"><p>
            to create and Reproduce Adaptations provided that any such Adaptation, including any translation 
            in any medium, takes reasonable steps to clearly label, demarcate or otherwise identify that
            changes were made to the original Work. For example, a translation could be marked "The original
            work was translated from English to Spanish," or a modification could indicate
            "The original work has been modified.";
          </p></li><li class="listitem"><p>
            to Distribute and Publicly Perform the Work including as incorporated in Collections; and,
          </p></li><li class="listitem"><p>
            to Distribute and Publicly Perform Adaptations.
          </p></li><li class="listitem"><p>
            For the avoidance of doubt:
            </p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>
                  <span class="emphasis"><em>Non-waivable Compulsory License Schemes.</em></span> In those jurisdictions in which the right to
                  collect royalties through any statutory or compulsory licensing scheme cannot be waived,
                  the Licensor reserves the exclusive right to collect such royalties for any exercise by
                  You of the rights granted under this License;
                </p></li><li class="listitem"><p>
                  <span class="emphasis"><em>Waivable Compulsory License Schemes.</em></span> In those jurisdictions in which the right to collect
                  royalties through any statutory or compulsory licensing scheme can be waived, the Licensor
                  waives the exclusive right to collect such royalties for any exercise by You of the rights
                  granted under this License; and,
                </p></li><li class="listitem"><p>
                  <span class="emphasis"><em>Voluntary License Schemes.</em></span> The Licensor waives the right to collect royalties, whether
                  individually or, in the event that the Licensor is a member of a collecting society that
                  administers voluntary licensing schemes, via that society, from any exercise by You of the
                  rights granted under this License.
                </p></li></ol></div><p>
          </p></li></ol></div><p>The above rights may be exercised in all media and formats whether now known or hereafter devised.
      The above rights include the right to make such modifications as are technically necessary to exercise 
      the rights in other media and formats. Subject to Section 8(f), all rights not expressly granted by 
      Licensor are hereby reserved.</p></div><div class="section" title="A.2.4. Restrictions"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-Restrictions"/>A.2.4. Restrictions</h3></div></div></div><p>The license granted in Section 3 above is expressly made subject to and limited by the following 
      restrictions:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            You may Distribute or Publicly Perform the Work only under the terms of this License. You must 
            include a copy of, or the Uniform Resource Identifier (URI) for, this License with every copy
            of the Work You Distribute or Publicly Perform. You may not offer or impose any terms on the Work
            that restrict the terms of this License or the ability of the recipient of the Work to exercise the 
            rights granted to that recipient under the terms of the License. You may not sublicense the Work.
            You must keep intact all notices that refer to this License and to the disclaimer of warranties 
            with every copy of the Work You Distribute or Publicly Perform. When You Distribute or Publicly 
            Perform the Work, You may not impose any effective technological measures on the Work that restrict
            the ability of a recipient of the Work from You to exercise the rights granted to that recipient under
            the terms of the License. This Section 4(a) applies to the Work as incorporated in a Collection, but
            this does not require the Collection apart from the Work itself to be made subject to the terms
            of this License. If You create a Collection, upon notice from any Licensor You must, to the
            extent practicable, remove from the Collection any credit as required by Section 4(c), as
            requested. If You create an Adaptation, upon notice from any Licensor You must, to the extent
            practicable, remove from the Adaptation any credit as required by Section 4(c), as requested.
          </p></li><li class="listitem"><p>
            You may Distribute or Publicly Perform an Adaptation only under the terms of: (i) this License; 
            (ii) a later version of this License with the same License Elements as this License; (iii)
            a Creative Commons jurisdiction license (either this or a later license version) that contains
            the same License Elements as this License (e.g., Attribution-ShareAlike 3.0 US)); (iv) a Creative
            Commons Compatible License. If you license the Adaptation under one of the licenses mentioned
            in (iv), you must comply with the terms of that license. If you license the Adaptation under the
            terms of any of the licenses mentioned in (i), (ii) or (iii) (the "Applicable License"), you must
            comply with the terms of the Applicable License generally and the following provisions: (I) You must
            include a copy of, or the URI for, the Applicable License with every copy of each Adaptation You Distribute
            or Publicly Perform; (II) You may not offer or impose any terms on the Adaptation that restrict the terms
            of the Applicable License or the ability of the recipient of the Adaptation to exercise the rights
            granted to that recipient under the terms of the Applicable License; (III) You must keep intact
            all notices that refer to the Applicable License and to the disclaimer of warranties with every
            copy of the Work as included in the Adaptation You Distribute or Publicly Perform; (IV) when You
            Distribute or Publicly Perform the Adaptation, You may not impose any effective technological measures 
            on the Adaptation that restrict the ability of a recipient of the Adaptation from You to exercise the
            rights granted to that recipient under the terms of the Applicable License. This Section 4(b) applies
            to the Adaptation as incorporated in a Collection, but this does not require the Collection apart from
            the Adaptation itself to be made subject to the terms of the Applicable License.
          </p></li><li class="listitem"><p>
            If You Distribute, or Publicly Perform the Work or any Adaptations or Collections, You must, unless 
            a request has been made pursuant to Section 4(a), keep intact all copyright notices for the Work and
            provide, reasonable to the medium or means You are utilizing: (i) the name of the Original Author
            (or pseudonym, if applicable) if supplied, and/or if the Original Author and/or Licensor designate
            another party or parties (e.g., a sponsor institute, publishing entity, journal) for attribution
            ("Attribution Parties") in Licensor's copyright notice, terms of service or by other reasonable means,
            the name of such party or parties; (ii) the title of the Work if supplied; (iii) to the extent reasonably
            practicable, the URI, if any, that Licensor specifies to be associated with the Work, unless such URI does
            not refer to the copyright notice or licensing information for the Work; and (iv) , consistent with 
            Section 3(b), in the case of an Adaptation, a credit identifying the use of the Work in the Adaptation
            (e.g., "French translation of the Work by Original Author," or "Screenplay based on original Work
            by Original Author"). The credit required by this Section 4(c) may be implemented in any reasonable
            manner; provided, however, that in the case of a Adaptation or Collection, at a minimum such credit
            will appear, if a credit for all contributing authors of the Adaptation or Collection appears, then as
            part of these credits and in a manner at least as prominent as the credits for the other contributing authors.
            For the avoidance of doubt, You may only use the credit required by this Section for the purpose of attribution
            in the manner set out above and, by exercising Your rights under this License, You may not implicitly or
            explicitly assert or imply any connection with, sponsorship or endorsement by the Original Author, Licensor
            and/or Attribution Parties, as appropriate, of You or Your use of the Work, without the separate, express
            prior written permission of the Original Author, Licensor and/or Attribution Parties.
          </p></li><li class="listitem"><p>
            Except as otherwise agreed in writing by the Licensor or as may be otherwise permitted by applicable
            law, if You Reproduce, Distribute or Publicly Perform the Work either by itself or as part of any
            Adaptations or Collections, You must not distort, mutilate, modify or take other derogatory action
            in relation to the Work which would be prejudicial to the Original Author's honor or reputation. Licensor
            agrees that in those jurisdictions (e.g. Japan), in which any exercise of the right granted in
            Section 3(b) of this License (the right to make Adaptations) would be deemed to be a distortion, mutilation, 
            modification or other derogatory action prejudicial to the Original Author's honor and reputation, the
            Licensor will waive or not assert, as appropriate, this Section, to the fullest extent permitted by
            the applicable national law, to enable You to reasonably exercise Your right under Section 3(b) of
            this License (right to make Adaptations) but not otherwise.
          </p></li></ol></div></div><div class="section" title="A.2.5. Representations, Warranties and Disclaimer"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-RepresentationsWarrantiesandDisclaimer"/>A.2.5. Representations, Warranties and Disclaimer</h3></div></div></div><p>UNLESS OTHERWISE MUTUALLY AGREED TO BY THE PARTIES IN WRITING, LICENSOR OFFERS THE WORK AS-IS AND MAKES 
      NO REPRESENTATIONS OR WARRANTIES OF ANY KIND CONCERNING THE WORK, EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, 
      INCLUDING, WITHOUT LIMITATION, WARRANTIES OF TITLE, MERCHANTIBILITY, FITNESS FOR A PARTICULAR PURPOSE,
      NONINFRINGEMENT, OR THE ABSENCE OF LATENT OR OTHER DEFECTS, ACCURACY, OR THE PRESENCE OF ABSENCE OF ERRORS,
      WHETHER OR NOT DISCOVERABLE. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, 
      SO SUCH EXCLUSION MAY NOT APPLY TO YOU.</p></div><div class="section" title="A.2.6. Termination"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-Termination"/>A.2.6. Termination</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            This License and the rights granted hereunder will terminate automatically upon any breach by You of 
            the terms of this License. Individuals or entities who have received Adaptations or Collections from 
            You under this License, however, will not have their licenses terminated provided such individuals
            or entities remain in full compliance with those licenses. Sections 1, 2, 5, 6, 7, and 8 will survive
            any termination of this License.
          </p></li><li class="listitem"><p>
            Subject to the above terms and conditions, the license granted here is perpetual (for the duration 
            of the applicable copyright in the Work). Notwithstanding the above, Licensor reserves the right
            to release the Work under different license terms or to stop distributing the Work at any time; provided,
            however that any such election will not serve to withdraw this License (or any other license that has been,
            or is required to be, granted under the terms of this License), and this License will continue in full
            force and effect unless terminated as stated above.
          </p></li></ol></div></div><div class="section" title="A.2.7. Miscellaneous"><div class="titlepage"><div><div><h3 class="title"><a id="CC-BY-SA-Miscellaneous"/>A.2.7. Miscellaneous</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            Each time You Distribute or Publicly Perform the Work or a Collection, the Licensor offers to
            the recipient a license to the Work on the same terms and conditions as the license granted to
            You under this License.
          </p></li><li class="listitem"><p>
            Each time You Distribute or Publicly Perform an Adaptation, Licensor offers to the recipient a
            license to the original Work on the same terms and conditions as the license granted to You under this License.
          </p></li><li class="listitem"><p>
            If any provision of this License is invalid or unenforceable under applicable law, it shall not affect
            the validity or enforceability of the remainder of the terms of this License, and without further
            action by the parties to this agreement, such provision shall be reformed to the minimum extent necessary
            to make such provision valid and enforceable.
          </p></li><li class="listitem"><p>
            No term or provision of this License shall be deemed waived and no breach consented to unless such
            waiver or consent shall be in writing and signed by the party to be charged with such waiver or consent.
          </p></li><li class="listitem"><p>
            This License constitutes the entire agreement between the parties with respect to the Work licensed here. 
            There are no understandings, agreements or representations with respect to the Work not specified here.
            Licensor shall not be bound by any additional provisions that may appear in any communication from You.
            This License may not be modified without the mutual written agreement of the Licensor and You.
          </p></li><li class="listitem"><p>
            The rights granted under, and the subject matter referenced, in this License were drafted utilizing 
            the terminology of the Berne Convention for the Protection of Literary and Artistic Works (as amended
            on September 28, 1979), the Rome Convention of 1961, the WIPO Copyright Treaty of 1996, the WIPO
            Performances and Phonograms Treaty of 1996 and the Universal Copyright Convention 
            (as revised on July 24, 1971). These rights and subject matter take effect in the relevant jurisdiction
            in which the License terms are sought to be enforced according to the corresponding provisions of the 
            implementation of those treaty provisions in the applicable national law. If the standard suite of rights
            granted under applicable copyright law includes additional rights not granted under this License, 
            such additional rights are deemed to be included in the License; this License is not intended to restrict 
            the license of any rights under applicable law.
          </p></li></ol></div></div></div><div class="section" title="A.3. Apache License, Version 2.0"><div class="titlepage"><div><div><h2 class="title"><a id="ApacheLicense"/>A.3. Apache License, Version 2.0</h2></div></div></div><p>Apache license</p><p>Version 2.0, January 2004</p><p>http://www.apache.org/licenses/</p><p>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</p><div class="section" title="A.3.1. Definitions"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-Definitions"/>A.3.1. Definitions</h3></div></div></div><p>"License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.</p><p>"Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.</p><p>"Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.</p><p>"You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.</p><p>"Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.</p><p>"Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.</p><p>"Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).</p><p>"Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.</p><p>"Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."</p><p>"Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.</p></div><div class="section" title="A.3.2. Grant of Copyright License"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-GrantofCopyrightLicense"/>A.3.2. Grant of Copyright License</h3></div></div></div><p>Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.</p></div><div class="section" title="A.3.3. Grant of Patent License"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-GrantofPatentLicense"/>A.3.3. Grant of Patent License</h3></div></div></div><p>Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.</p></div><div class="section" title="A.3.4. Redistribution"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-Redistribution"/>A.3.4. Redistribution</h3></div></div></div><p>You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>
            You must give any other recipients of the Work or
            Derivative Works a copy of this License; and
          </p></li><li class="listitem"><p>
            You must cause any modified files to carry prominent notices
            stating that You changed the files; and
          </p></li><li class="listitem"><p>
            You must retain, in the Source form of any Derivative Works
            that You distribute, all copyright, patent, trademark, and
            attribution notices from the Source form of the Work,
            excluding those notices that do not pertain to any part of
            the Derivative Works; and
          </p></li><li class="listitem"><p>
            If the Work includes a "NOTICE" text file as part of its
            distribution, then any Derivative Works that You distribute must
            include a readable copy of the attribution notices contained
            within such NOTICE file, excluding those notices that do not
            pertain to any part of the Derivative Works, in at least one
            of the following places: within a NOTICE text file distributed
            as part of the Derivative Works; within the Source form or
            documentation, if provided along with the Derivative Works; or,
            within a display generated by the Derivative Works, if and
            wherever such third-party notices normally appear. The contents
            of the NOTICE file are for informational purposes only and
            do not modify the License. You may add Your own attribution
            notices within Derivative Works that You distribute, alongside
            or as an addendum to the NOTICE text from the Work, provided
            that such additional attribution notices cannot be construed
            as modifying the License.
          </p></li></ol></div><p>You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.</p></div><div class="section" title="A.3.5. Submission of Contributions"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-SubmissionofContributions"/>A.3.5. Submission of Contributions</h3></div></div></div><p>Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.</p></div><div class="section" title="A.3.6. Trademarks"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-Trademarks"/>A.3.6. Trademarks</h3></div></div></div><p>This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.</p></div><div class="section" title="A.3.7. Disclaimer of Warranty"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-DisclaimerofWarranty"/>A.3.7. Disclaimer of Warranty</h3></div></div></div><p>Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.</p></div><div class="section" title="A.3.8. Limitation of Liability"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-LimitationofLiability"/>A.3.8. Limitation of Liability</h3></div></div></div><p>In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.</p></div><div class="section" title="A.3.9. Accepting Warranty or Additional Liability"><div class="titlepage"><div><div><h3 class="title"><a id="ApacheLicense-AcceptingWarrantyorAdditionalLiability"/>A.3.9. Accepting Warranty or Additional Liability</h3></div></div></div><p>While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.</p></div></div></div></div><hr xmlns="" xmlns:d="http://docbook.org/ns/docbook"/><a xmlns="" xmlns:d="http://docbook.org/ns/docbook" href="legalnotice.html"/></body></html>